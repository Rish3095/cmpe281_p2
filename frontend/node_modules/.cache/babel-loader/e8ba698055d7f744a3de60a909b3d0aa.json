{"ast":null,"code":"import _defineProperty from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{withRouter,Link}from'react-router-dom';var SignupForm=/*#__PURE__*/function(_React$Component){_inherits(SignupForm,_React$Component);var _super=_createSuper(SignupForm);function SignupForm(props){var _this;_classCallCheck(this,SignupForm);_this=_super.call(this,props);_this.state={email:'',email2:'',username:'',password:'',password2:'',birthdate:'',errors:{},error_touched:{email:false,email2:false,password:false,password2:false,username:false,birthdate:false},error_exists:{email:false,email2:false,password:false,password2:false,username:false,birthdate:false}};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.clearedErrors=false;return _this;}_createClass(SignupForm,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.signedIn===true){this.props.history.push('/login');}this.setState({errors:nextProps.errors});}},{key:\"update\",value:function update(field){var _this2=this;return function(e){return _this2.setState(_defineProperty({},field,e.currentTarget.value));};}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var user={email2:this.state.email2,email:this.state.email,username:this.state.username,password:this.state.password,password2:this.state.password2,birthdate:this.state.birthdate};this.resetErrorDisplay();this.props.signup(user,this.props.history);}},{key:\"resetErrorDisplay\",value:function resetErrorDisplay(){this.setState({error_touched:{email:false,email2:false,password:false,password2:false,username:false,birthdate:false}});}},{key:\"handleOnFocus\",value:function handleOnFocus(field){var _this3=this;var touchField=this.state.error_touched;touchField[field]=true;return function(){return _this3.setState({touchField:touchField});};}},{key:\"renderError\",value:function renderError(field){if(!this.state.error_touched[field]){return/*#__PURE__*/React.createElement(\"div\",{id:\"\".concat(field,\"-error\"),className:\"signup error-div\"},this.state.errors[field]);}}},{key:\"renderInputField\",value:function renderInputField(field){var _this4=this;var placeholder=field.charAt(0).toUpperCase()+field.substring(1);if(field.includes('2')){placeholder=placeholder.substring(0,placeholder.length-1)+' Confirm';}var type;if(field.includes('email')||field==='username'){type='text';}else if(field.includes('password')){type='password';}else{type='Date';}if(!this.state.error_touched[field]&&this.state.errors[field]){return/*#__PURE__*/React.createElement(\"input\",{id:field,type:type,className:\"signup-border has-error\",value:this.state[field],onChange:this.update(field),placeholder:placeholder,onFocus:function onFocus(){return _this4.handleOnFocus(field);}});}else{return/*#__PURE__*/React.createElement(\"input\",{id:field,type:type,className:\"signup-border\",value:this.state[field],onChange:this.update(field),placeholder:placeholder,onFocus:function onFocus(){return _this4.handleOnFocus(field);}});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"signup-form-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"heading\",style:{display:'inline-block',padding:'30px',fontSize:'36px',fontWeight:'900'}},\"Rock-N-Roll\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"signup-form\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-input email\"},this.renderInputField('email'),this.renderError('email')),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-input email2\"},this.renderInputField('email2'),this.renderError('email2')),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-input password\"},this.renderInputField('password'),this.renderError('password')),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-input password2\"},this.renderInputField('password2'),this.renderError('password2')),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-input username\"},this.renderInputField('username'),this.renderError('username')),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-input birthdate\"},/*#__PURE__*/React.createElement(\"label\",null,\"Date of Birth\",/*#__PURE__*/React.createElement(\"div\",{className:\"birthdate\"},this.renderInputField('birthdate'),this.renderError('birthdate')))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"signup-button\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"SIGN UP\"})))));}}]);return SignupForm;}(React.Component);export default withRouter(SignupForm);","map":{"version":3,"sources":["/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/src/components/session/signup_form.js"],"names":["React","withRouter","Link","SignupForm","props","state","email","email2","username","password","password2","birthdate","errors","error_touched","error_exists","handleSubmit","bind","clearedErrors","nextProps","signedIn","history","push","setState","field","e","currentTarget","value","preventDefault","user","resetErrorDisplay","signup","touchField","placeholder","charAt","toUpperCase","substring","includes","length","type","update","handleOnFocus","display","padding","fontSize","fontWeight","renderInputField","renderError","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      email2: '',\n      username: '',\n      password: '',\n      password2: '',\n      birthdate: '',\n      errors: {},\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      },\n      error_exists: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      }\n\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearedErrors = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.history.push('/login');\n    }\n\n    this.setState({errors: nextProps.errors})\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value, \n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email2: this.state.email2,\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n      password2: this.state.password2,\n      birthdate: this.state.birthdate,\n    };\n    this.resetErrorDisplay();\n    this.props.signup(user, this.props.history)\n  }\n\n  resetErrorDisplay() {\n    this.setState({\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      },\n    })\n  }\n\n  handleOnFocus(field) {\n    const touchField = this.state.error_touched;\n    touchField[field] = true;\n    return () => this.setState({\n      touchField\n    })\n  }\n\n  renderError(field) {\n    if (!this.state.error_touched[field]) {\n      return (\n        <div id={`${field}-error`} className='signup error-div'>\n          {this.state.errors[field]}\n        </div>\n      )\n    }\n  }\n  \n  renderInputField(field) {\n    let placeholder = field.charAt(0).toUpperCase() + field.substring(1);\n    if(field.includes('2')) {\n      placeholder = placeholder.substring(0, placeholder.length - 1) + ' Confirm'\n    }\n    let type;\n    if ((field.includes('email') || field === 'username')) {\n      type = 'text'\n    } else if (field.includes('password')) {\n      type = 'password'\n    } else {\n      type = 'Date'\n    }\n    if (!this.state.error_touched[field] && this.state.errors[field]) {\n      return (\n          <input id={field} \n            type={type}\n            className=\"signup-border has-error\"\n            value={this.state[field]}\n            onChange={this.update(field)}\n            placeholder={placeholder}\n            onFocus={() => this.handleOnFocus(field)}/>\n      )\n    } else {\n      return (\n          <input id={field}\n            type={type}\n            className=\"signup-border\"\n            value={this.state[field]}\n            onChange={this.update(field)}\n            placeholder={placeholder}\n            onFocus={() => this.handleOnFocus(field)}/>\n      )\n    }\n  }\n  render() {\n    return (\n      <div className=\"signup-form-container\">\n       <div className='heading' style={{\n            display: 'inline-block',\n            padding:'30px',\n            fontSize: '36px',\n            fontWeight: '900',\n       }}>\n         Rock-N-Roll\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"signup-form\">\n            <br/>\n              <div className=\"signup-input email\">\n                {this.renderInputField('email')}\n                {this.renderError('email')}\n              </div>\n            <br/>\n              <div className=\"signup-input email2\">\n                {this.renderInputField('email2')}\n                {this.renderError('email2')}\n              </div>\n            <br/>\n              <div className=\"signup-input password\">\n                {this.renderInputField('password')}\n                {this.renderError('password')}\n              </div>\n            <br/>\n              <div className=\"signup-input password2\">\n                {this.renderInputField('password2')}\n                {this.renderError('password2')}\n              </div>\n            <br/>\n              <div className=\"signup-input username\">\n                {this.renderInputField('username')}\n                {this.renderError('username')}\n              </div>\n            <br/>\n              <div className=\"signup-input birthdate\">\n                <label>\n                  Date of Birth\n                  <div className=\"birthdate\">\n                    {this.renderInputField('birthdate')}\n                    {this.renderError('birthdate')}\n                  </div>\n                </label>\n              </div>\n            <br/>\n            <div className=\"signup-button\">\n              <input type=\"submit\" value=\"SIGN UP\" />\n            </div>\n            {/* <div className=\"login-instead\">\n              <label>\n                Already have an account? \n                <Link to='/login'> Log in </Link>\n              </label>\n            </div> */}\n\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);"]},"metadata":{},"sourceType":"module"}