{"ast":null,"code":"import _classCallCheck from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Link}from'react-router-dom';var PlayerInfo=/*#__PURE__*/function(_React$Component){_inherits(PlayerInfo,_React$Component);var _super=_createSuper(PlayerInfo);function PlayerInfo(props){var _this;_classCallCheck(this,PlayerInfo);_this=_super.call(this,props);_this.toggleLike=_this.toggleLike.bind(_assertThisInitialized(_this));_this.renderLike=_this.renderLike.bind(_assertThisInitialized(_this));return _this;}_createClass(PlayerInfo,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchUser(this.props.currentUserId);}},{key:\"toggleLike\",value:function toggleLike(){var likeData={songId:this.props.currentTrack._id,userId:this.props.currentUserId};this.props.toggleLike(likeData);}},{key:\"renderLike\",value:function renderLike(){if(this.props.currentUser&&this.props.currentUser.likedSongs.includes(this.props.currentTrack._id)){return/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-heart\"});}else{return/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-heart\"});}}},{key:\"render\",value:function render(){var _this$props=this.props,currentTrack=_this$props.currentTrack,nextTrack=_this$props.nextTrack;if(!currentTrack)return/*#__PURE__*/React.createElement(\"div\",{className:\"pi-container\"});var msg;if(this.props.shuffle){msg=\"Currently shuffling... ¯\\\\_(ツ)_/¯\";}else if(!nextTrack){msg=null;}else{msg=\"Coming up next: \".concat(nextTrack.title,\" By \").concat(nextTrack.artist.name);}return/*#__PURE__*/React.createElement(\"div\",{className:\"pi-container\"},/*#__PURE__*/React.createElement(\"img\",{className:\"pi-image\",src:currentTrack.imageUrl,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"pi-details\"},/*#__PURE__*/React.createElement(Link,{to:\"/open/artist/\".concat(currentTrack.artist._id)},/*#__PURE__*/React.createElement(\"div\",{className:\"pi-details-title\"},currentTrack.title)),/*#__PURE__*/React.createElement(Link,{to:\"/open/artist/\".concat(currentTrack.artist._id)},/*#__PURE__*/React.createElement(\"div\",{className:\"pi-details-artist\"},currentTrack.artist.name)),nextTrack?/*#__PURE__*/React.createElement(\"div\",{className:\"pi-details-next\"},msg):null),/*#__PURE__*/React.createElement(\"div\",{onClick:this.toggleLike},this.renderLike()));}}]);return PlayerInfo;}(React.Component);export default PlayerInfo;","map":{"version":3,"sources":["/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/src/components/player/player_info.js"],"names":["React","Link","PlayerInfo","props","toggleLike","bind","renderLike","fetchUser","currentUserId","likeData","songId","currentTrack","_id","userId","currentUser","likedSongs","includes","nextTrack","msg","shuffle","title","artist","name","imageUrl","Component"],"mappings":"03BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,GAEMC,CAAAA,U,oHACF,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CAHe,aAIlB,C,oFAEmB,CAChB,KAAKF,KAAL,CAAWI,SAAX,CAAqB,KAAKJ,KAAL,CAAWK,aAAhC,EACH,C,+CAEY,CACT,GAAMC,CAAAA,QAAQ,CAAG,CACbC,MAAM,CAAE,KAAKP,KAAL,CAAWQ,YAAX,CAAwBC,GADnB,CAEbC,MAAM,CAAE,KAAKV,KAAL,CAAWK,aAFN,CAAjB,CAIA,KAAKL,KAAL,CAAWC,UAAX,CAAsBK,QAAtB,EACH,C,+CAEY,CACT,GAAI,KAAKN,KAAL,CAAWW,WAAX,EAA0B,KAAKX,KAAL,CAAWW,WAAX,CAAuBC,UAAvB,CAAkCC,QAAlC,CAA2C,KAAKb,KAAL,CAAWQ,YAAX,CAAwBC,GAAnE,CAA9B,CAAuG,CACnG,mBACI,yBAAG,SAAS,CAAC,cAAb,EADJ,CAGH,CAJD,IAIO,CACH,mBACI,yBAAG,SAAS,CAAC,cAAb,EADJ,CAGH,CACJ,C,uCAEQ,iBAE+B,KAAKT,KAFpC,CAEGQ,YAFH,aAEGA,YAFH,CAEiBM,SAFjB,aAEiBA,SAFjB,CAGL,GAAI,CAACN,YAAL,CAAmB,mBAAO,2BAAK,SAAS,CAAC,cAAf,EAAP,CACnB,GAAIO,CAAAA,GAAJ,CAEA,GAAI,KAAKf,KAAL,CAAWgB,OAAf,CAAwB,CACpBD,GAAG,CAAG,mCAAN,CACH,CAFD,IAEO,IAAI,CAACD,SAAL,CAAgB,CACnBC,GAAG,CAAG,IAAN,CACH,CAFM,IAEA,CACHA,GAAG,2BAAsBD,SAAS,CAACG,KAAhC,gBAA4CH,SAAS,CAACI,MAAV,CAAiBC,IAA7D,CAAH,CACH,CAED,mBACI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,UAAf,CAA0B,GAAG,CAAEX,YAAY,CAACY,QAA5C,CAAsD,GAAG,CAAC,EAA1D,EADJ,cAEI,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,IAAD,EAAM,EAAE,wBAAkBZ,YAAY,CAACU,MAAb,CAAoBT,GAAtC,CAAR,eACI,2BAAK,SAAS,CAAC,kBAAf,EACMD,YAAY,CAACS,KADnB,CADJ,CADJ,cAMI,oBAAC,IAAD,EAAM,EAAE,wBAAkBT,YAAY,CAACU,MAAb,CAAoBT,GAAtC,CAAR,eACI,2BAAK,SAAS,CAAC,mBAAf,EACKD,YAAY,CAACU,MAAb,CAAoBC,IADzB,CADJ,CANJ,CAWKL,SAAS,cAAG,2BAAK,SAAS,CAAC,iBAAf,EAAkCC,GAAlC,CAAH,CAAkD,IAXhE,CAFJ,cAeI,2BAAK,OAAO,CAAE,KAAKd,UAAnB,EACK,KAAKE,UAAL,EADL,CAfJ,CADJ,CAqBH,C,wBAlEoBN,KAAK,CAACwB,S,EAqE/B,cAAetB,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass PlayerInfo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleLike = this.toggleLike.bind(this);\n        this.renderLike = this.renderLike.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.fetchUser(this.props.currentUserId);\n    }\n\n    toggleLike() {\n        const likeData = {\n            songId: this.props.currentTrack._id,\n            userId: this.props.currentUserId,\n        }\n        this.props.toggleLike(likeData)\n    }\n\n    renderLike() {\n        if (this.props.currentUser && this.props.currentUser.likedSongs.includes(this.props.currentTrack._id)) {\n            return (\n                <i className=\"fas fa-heart\"></i>\n            )\n        } else {\n            return (\n                <i className=\"far fa-heart\"></i>\n            )\n        }\n    }\n\n    render() {\n        \n        const { currentTrack, nextTrack } = this.props\n        if (!currentTrack) return <div className=\"pi-container\"></div>;\n        let msg;\n        \n        if (this.props.shuffle) {\n            msg = \"Currently shuffling... ¯\\\\_(ツ)_/¯\"\n        } else if (!nextTrack) {\n            msg = null;\n        } else {\n            msg = `Coming up next: ${nextTrack.title} By ${nextTrack.artist.name}`;\n        }\n        \n        return (\n            <div className=\"pi-container\">\n                <img className=\"pi-image\" src={currentTrack.imageUrl} alt=\"\"/>\n                <div className=\"pi-details\">\n                    <Link to={`/open/artist/${currentTrack.artist._id}`}>\n                        <div className=\"pi-details-title\">\n                            { currentTrack.title }\n                        </div>\n                    </Link>\n                    <Link to={`/open/artist/${currentTrack.artist._id}`}>\n                        <div className=\"pi-details-artist\">\n                            {currentTrack.artist.name}\n                        </div>\n                    </Link>\n                    {nextTrack ? <div className=\"pi-details-next\">{msg}</div> : null }\n                </div>\n                <div onClick={this.toggleLike}>\n                    {this.renderLike()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PlayerInfo;"]},"metadata":{},"sourceType":"module"}