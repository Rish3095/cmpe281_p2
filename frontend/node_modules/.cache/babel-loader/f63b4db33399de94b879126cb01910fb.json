{"ast":null,"code":"import _classCallCheck from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import AlbumSongIndexItem from'../index/album_song_index_item';import{Link}from'react-router-dom';var AlbumShow=/*#__PURE__*/function(_React$Component){_inherits(AlbumShow,_React$Component);var _super=_createSuper(AlbumShow);function AlbumShow(props){var _this;_classCallCheck(this,AlbumShow);_this=_super.call(this,props);_this.state={albumLiked:null};_this.toggleAlbumLike=_this.toggleAlbumLike.bind(_assertThisInitialized(_this));_this.renderAlbumLike=_this.renderAlbumLike.bind(_assertThisInitialized(_this));return _this;}_createClass(AlbumShow,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchAlbum(this.props.match.params.id);this.props.fetchUser(this.props.currentUserId);// this.setState();\n}},{key:\"renderAlbumLike\",value:function renderAlbumLike(){if(this.props.currentUser&&this.props.currentUser.likedAlbums.includes(this.props.match.params.id)){return/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-heart\"});}else{return/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-heart\"});}}},{key:\"toggleAlbumLike\",value:function toggleAlbumLike(){var likeData={userId:this.props.currentUser._id,albumId:this.props.match.params.id};this.props.toggleAlbumLike(likeData);this.setState({albumLiked:this.props.currentUser.likedAlbums.includes(this.props.album._id)});}},{key:\"render\",value:function render(){var _this2=this;var liSongs;if(!this.props.album[this.props.match.params.id])return null;var album=this.props.album[this.props.match.params.id];var songs=album.songs;if(album){liSongs=songs.map(function(song){return/*#__PURE__*/React.createElement(AlbumSongIndexItem,{key:song.id,song:song,playTrack:_this2.props.playTrack,addTrack:_this2.props.addTrack,addSongToPlaylist:_this2.props.addSongToPlaylist,openModal:_this2.props.openModal,closeModal:_this2.props.closeModal});});}return/*#__PURE__*/React.createElement(\"div\",{className:\"album-page\"},/*#__PURE__*/React.createElement(\"img\",{className:\"album-background-photo\",src:\"static/images/gradient.jpg\",alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"open-player-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"artist-show-header\"},/*#__PURE__*/React.createElement(\"img\",{className:\"album-show-photo\",src:album.imageUrl,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"album-header-info\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"album-show-title\"},album.title),/*#__PURE__*/React.createElement(\"div\",{className:\"album-by\"},\"By \",/*#__PURE__*/React.createElement(Link,{className:\"album-artist-name\",to:\"/open/artist/\".concat(album.artist._id),id:album.artist._id},album.artist.name)),/*#__PURE__*/React.createElement(\"p\",{className:\"album-year\"},album.year,\"  \\u2022  \",songs.length,\" SONGS\"),/*#__PURE__*/React.createElement(\"div\",{className:\"album-show-interactive\"},/*#__PURE__*/React.createElement(\"button\",{className:\"album-show-play\",onClick:function onClick(e){return _this2.props.playAllTracks(songs);}},\"PLAY\"),/*#__PURE__*/React.createElement(\"div\",{className:\"like-album\",onClick:this.toggleAlbumLike},this.renderAlbumLike()),/*#__PURE__*/React.createElement(\"p\",{className:\"album-options\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-h\",\"aria-hidden\":\"true\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"album-show-songs\"},liSongs)));}}]);return AlbumShow;}(React.Component);;export default AlbumShow;","map":{"version":3,"sources":["/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/src/components/show/album_show.js"],"names":["React","AlbumSongIndexItem","Link","AlbumShow","props","state","albumLiked","toggleAlbumLike","bind","renderAlbumLike","fetchAlbum","match","params","id","fetchUser","currentUserId","currentUser","likedAlbums","includes","likeData","userId","_id","albumId","setState","album","liSongs","songs","map","song","playTrack","addTrack","addSongToPlaylist","openModal","closeModal","imageUrl","title","artist","name","year","length","e","playAllTracks","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AlbumSongIndexItem from '../index/album_song_index_item';\nimport { Link } from 'react-router-dom';\n\nclass AlbumShow extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      albumLiked: null,\n    }\n    \n    this.toggleAlbumLike = this.toggleAlbumLike.bind(this);\n    this.renderAlbumLike = this.renderAlbumLike.bind(this);\n  }\n  componentDidMount() {\n    this.props.fetchAlbum(this.props.match.params.id);\n    this.props.fetchUser(this.props.currentUserId);\n    // this.setState();\n  }\n\n  renderAlbumLike() {\n  \n    if (this.props.currentUser && this.props.currentUser.likedAlbums.includes(this.props.match.params.id)) {\n      return (\n        <i className=\"fas fa-heart\"></i>\n        )\n      } else {\n        return (\n          <i className=\"far fa-heart\"></i>\n          )\n        }\n      }\n      \n  toggleAlbumLike() {\n    const likeData = {\n      userId: this.props.currentUser._id,\n      albumId: this.props.match.params.id,\n    }\n    this.props.toggleAlbumLike(likeData)\n    this.setState({\n      albumLiked: this.props.currentUser.likedAlbums.includes(this.props.album._id)\n    });\n  }\n\n  render() {\n    let liSongs;\n    if (!this.props.album[this.props.match.params.id]) return null;\n    let album = this.props.album[this.props.match.params.id];\n    let songs = album.songs;\n    if (album) {\n      liSongs = songs.map(song => <AlbumSongIndexItem key={song.id} song={song} playTrack={this.props.playTrack} addTrack={this.props.addTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal} />);\n    }\n    return (\n        <div className=\"album-page\"> \n          <img className=\"album-background-photo\" src=\"static/images/gradient.jpg\" alt=\"\"></img>\n          <div className=\"open-player-body\">\n          <div className=\"artist-show-header\">\n            <img className=\"album-show-photo\" src={album.imageUrl} alt=\"\"/>\n            <div className=\"album-header-info\">\n            <h1 className=\"album-show-title\">{album.title}</h1>\n            <div className=\"album-by\">By <Link className=\"album-artist-name\" to={`/open/artist/${album.artist._id}`} id={album.artist._id}>{album.artist.name}</Link></div>\n            <p className=\"album-year\">{album.year}  •  {songs.length} SONGS</p>\n            <div className=\"album-show-interactive\">\n                <button className=\"album-show-play\" onClick={(e) => this.props.playAllTracks(songs)}>PLAY</button>\n                <div className=\"like-album\" onClick={this.toggleAlbumLike}>{this.renderAlbumLike()}</div>\n                <p className=\"album-options\"><i className=\"fas fa-ellipsis-h\" aria-hidden=\"true\"></i></p>\n            </div>\n            </div>\n          </div>\n          <div className=\"album-show-songs\">\n            {liSongs}\n          </div>\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default AlbumShow; "]},"metadata":{},"sourceType":"module"}