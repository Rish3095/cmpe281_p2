{"ast":null,"code":"import _classCallCheck from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{Link}from'react-router-dom';var PlaylistShow=/*#__PURE__*/function(_React$Component){_inherits(PlaylistShow,_React$Component);var _super=_createSuper(PlaylistShow);function PlaylistShow(props){var _this;_classCallCheck(this,PlaylistShow);_this=_super.call(this,props);_this.showSongs=_this.showSongs.bind(_assertThisInitialized(_this));_this.playAll=_this.playAll.bind(_assertThisInitialized(_this));_this.playTrack=_this.playTrack.bind(_assertThisInitialized(_this));return _this;}_createClass(PlaylistShow,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchPlaylist(this.props.match.params.id);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.match.params.id!==this.props.match.params.id){this.props.fetchPlaylist(this.props.match.params.id);}}},{key:\"playAll\",value:function playAll(e){e.preventDefault();this.props.playAllTracks(this.props.playlist.songs);}},{key:\"playTrack\",value:function playTrack(track){var _this2=this;return function(e){e.stopPropagation();_this2.props.playTrack(track);};}},{key:\"showSongs\",value:function showSongs(){var _this3=this;if(!this.props.playlist)return null;var songs=Object.values(this.props.playlist.songs);if(songs.length===0)return/*#__PURE__*/React.createElement(\"div\",{className:\"ps-empty-container\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-play\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"No Songs\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Let's find some nice songs to relax to\"));return songs.map(function(song,i){return/*#__PURE__*/React.createElement(\"div\",{key:i,className:\"pq-track-container\"},/*#__PURE__*/React.createElement(\"i\",{onClick:_this3.playTrack(song),className:\"fas fa-play\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"pq-details\"},/*#__PURE__*/React.createElement(\"span\",{className:\"pq-title\"},song.title),/*#__PURE__*/React.createElement(\"h4\",{to:\"/open/artist/\".concat(song.artist._id)},/*#__PURE__*/React.createElement(\"span\",{className:\"pq-artist\"},song.artist.name))));});}},{key:\"render\",value:function render(){var _this$props=this.props,playlist=_this$props.playlist,username=_this$props.username;if(!playlist)return null;var hasSong=playlist.songs.length;return/*#__PURE__*/React.createElement(\"div\",{className:\"open-player-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ps-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ps-left\"},/*#__PURE__*/React.createElement(\"img\",{className:\"ps-image\",src:hasSong?playlist.songs[0].imageUrl:\"/static/images/playlist.png\",alt:\"\"}),/*#__PURE__*/React.createElement(\"h1\",null,playlist.title),/*#__PURE__*/React.createElement(\"h2\",null,username),hasSong?/*#__PURE__*/React.createElement(\"button\",{onClick:this.playAll,className:\"album-show-play\"},\"PLAY\"):/*#__PURE__*/React.createElement(\"button\",{className:\"playlist-show-play disabled\",id:\"disabled\"},\"PLAY\")),/*#__PURE__*/React.createElement(\"div\",{className:\"ps-right\"},this.showSongs())));}}]);return PlaylistShow;}(React.Component);export default PlaylistShow;","map":{"version":3,"sources":["/Users/rishabhgupta/Desktop/281_project/cmpe281_p2/frontend/src/components/show/playlist_show.js"],"names":["React","Link","PlaylistShow","props","showSongs","bind","playAll","playTrack","fetchPlaylist","match","params","id","prevProps","e","preventDefault","playAllTracks","playlist","songs","track","stopPropagation","Object","values","length","map","song","i","title","artist","_id","name","username","hasSong","imageUrl","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nclass PlaylistShow extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.showSongs = this.showSongs.bind(this);\n    this.playAll = this.playAll.bind(this);\n    this.playTrack = this.playTrack.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.props.fetchPlaylist(this.props.match.params.id);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      this.props.fetchPlaylist(this.props.match.params.id);\n    }\n  }\n\n\n  playAll(e) {\n    e.preventDefault();\n    this.props.playAllTracks(this.props.playlist.songs);\n  }\n\n  playTrack(track) {\n    return e => {\n      e.stopPropagation();\n      this.props.playTrack(track);\n    }\n  }\n\n  showSongs() {\n    if (!this.props.playlist) return (null);\n    const songs = Object.values(this.props.playlist.songs);\n    if (songs.length === 0) return (\n      <div\n        className=\"ps-empty-container\">\n        <i className=\"fas fa-play\"></i>\n          <h1>No Songs</h1>\n          <h3>Let's find some nice songs to relax to</h3>\n          {/* <Link to=\"/open/search\"><div className=\"ps-search\">Search Songs</div></Link> */}\n      </div>\n    )\n    return songs.map((song, i) => {\n      return (\n        <div\n          key={i}\n          className={`pq-track-container`}>\n          <i onClick={this.playTrack(song)} className=\"fas fa-play\"></i>\n          <div className=\"pq-details\">\n            <span className=\"pq-title\">\n              {song.title}\n            </span>\n            <h4 to={`/open/artist/${song.artist._id}`}><span className=\"pq-artist\">\n              {song.artist.name}\n            </span></h4>\n          </div>\n        </div>\n      )\n    })\n  }\n\n  render() {\n    const { playlist, username } = this.props;\n    if (!playlist) return null;\n    const hasSong = playlist.songs.length;\n    return (\n      <div className=\"open-player-body\">\n        <div className=\"ps-container\">\n          <div className=\"ps-left\">\n            <img className=\"ps-image\" src={hasSong ? playlist.songs[0].imageUrl : \"/static/images/playlist.png\"} alt=\"\"/>\n            <h1>{playlist.title}</h1>\n            <h2>{username}</h2>\n            {hasSong ? <button\n              onClick={this.playAll}\n              className=\"album-show-play\">\n                PLAY\n            </button> : <button className=\"playlist-show-play disabled\" id=\"disabled\">PLAY</button> }\n          </div>\n\n          <div className=\"ps-right\">\n              {this.showSongs()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PlaylistShow;\n"]},"metadata":{},"sourceType":"module"}