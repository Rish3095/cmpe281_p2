(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/white-logo-black-music.c4146bc3.png"},46:function(e,t,a){e.exports=a(77)},75:function(e,t,a){e.exports=a.p+"static/media/white-logo-blue-music.c4146bc3.png"},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),l=a.n(s),i=a(7),c=a(6),o=a(1),u=a(2),p=a(3),m=a(4),d=(a(31),a(8)),h=a.n(d),f=function(e){e?h.a.defaults.headers.common.Authorization=e:delete h.a.defaults.headers.common.Authorization},v=a(24),E=a.n(v),g=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},b=function(e){return function(t){return(a=e,h.a.post("/api/users/register",a)).then((function(){return t({type:"RECEIVE_USER_SIGN_IN"})}),(function(e){return t(g(e.response.data))}));var a}},y=function(e){return function(t){return(a=e,h.a.post("/api/users/login",a)).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),f(a);var n=E()(a);t({type:"RECEIVE_CURRENT_USER",currentUser:n})})).catch((function(e){t(g(e.response.data))}));var a}},k=function(){return function(e){localStorage.removeItem("jwtToken"),f(!1),e({type:"RECEIVE_USER_LOGOUT"})}},O=a(5),N=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logoutUser=n.logoutUser.bind(Object(O.a)(n)),n.getLinks=n.getLinks.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"logoutUser",value:function(e){e.preventDefault(),this.props.logout()}},{key:"getLinks",value:function(){return this.props.loggedIn?r.a.createElement("div",{className:"greeting-container"},r.a.createElement("h2",{className:"header-name"},"Hello, ",this.props.currentUser.username),r.a.createElement(c.b,{className:"nav-link",onClick:this.logoutUser,to:""},"Logout")):r.a.createElement("div",null,r.a.createElement(c.b,{className:"nav-link",to:"/signup"},"Signup"),r.a.createElement(c.b,{className:"nav-link",to:"/login"},"Login"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-container"},this.getLinks())}}]),a}(r.a.Component),j=N,T=Object(i.b)((function(e){return{currentUser:e.session.user,loggedIn:e.session.isAuthenticated}}),{logout:k})(j),S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"header-container"},r.a.createElement("div",{id:"splash-logo",class:"sidebar-Rock-N-Roll",bis_skin_checked:"1",style:{color:"white",padding:"24px 0 25px 25 px"}},"Rock-N-Roll"),r.a.createElement(T,null))}}]),a}(r.a.Component),C=S,w=(a(75),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"container"},r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"footer-links"},r.a.createElement("h3",null,"Poojan Shah"),r.a.createElement("div",{className:"github-img"},r.a.createElement("i",{className:"fab fa-github"}),r.a.createElement("a",{href:"https://github.com/poojan4ps",target:"_blank"}," Github")),r.a.createElement("div",{className:"linkedin-img"},r.a.createElement("i",{className:"fab fa-linkedin"}),r.a.createElement("a",{href:"https://www.linkedin.com/in/poojan-shah-2aa8b5136/"}," LinkedIn"))),r.a.createElement("div",{className:"footer-links"},r.a.createElement("h3",null,"Rutvik Moradiya "),r.a.createElement("div",{className:"github-img"},r.a.createElement("i",{className:"fab fa-github"}),r.a.createElement("a",{href:"https://github.com/rutvik-moradiya",target:"_blank"}," Github")),r.a.createElement("div",{className:"linkedin-img"},r.a.createElement("i",{className:"fab fa-linkedin"}),r.a.createElement("a",{href:"https://www.linkedin.com/in/rutvik-moradiya-a6989312a/"}," LinkedIn"))),r.a.createElement("div",{className:"footer-links"},r.a.createElement("h3",null,"Rishabh Gupta"),r.a.createElement("div",{className:"github-img"},r.a.createElement("i",{className:"fab fa-github"}),r.a.createElement("a",{href:"https://github.com/Rishabh3095",target:"_blank"}," Github")),r.a.createElement("div",{className:"linkedin-img"},r.a.createElement("i",{className:"fab fa-linkedin"}),r.a.createElement("a",{href:"https://www.linkedin.com/in/rishabhgupta95/"}," LinkedIn"))),r.a.createElement("div",{className:"footer-links"},r.a.createElement("h3",null,"Jack Kalavadia"),r.a.createElement("div",{className:"github-img"},r.a.createElement("i",{className:"fab fa-github"}),r.a.createElement("a",{href:"https://github.com/jackkalavadia",target:"_blank"}," Github")),r.a.createElement("div",{className:"linkedin-img"},r.a.createElement("i",{className:"fab fa-linkedin"}),r.a.createElement("a",{href:"https://www.linkedin.com/"}," LinkedIn")))))}}]),a}(r.a.Component)),_=w,I=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"app-container"},r.a.createElement(C,null),r.a.createElement("div",{id:"colorsplash"},r.a.createElement("div",{id:"splash-container"},r.a.createElement("h1",null,"BIG CHILL"),r.a.createElement("h4",null,"SONGS AT EVERY STEPS. No credit card Needed"),r.a.createElement(c.b,{to:"/open",className:"launch-web-player-bttn"},"Get Started Now"))),r.a.createElement(_,null))}}]),a}(r.a.Component),L=I,A=a(45),R=a(17),U=function(e){return{loggedIn:e.session.isAuthenticated}},P=Object(R.g)(Object(i.b)(U)((function(e){var t=e.component,a=e.path,n=e.loggedIn,s=e.exact;return r.a.createElement(R.b,{path:a,exact:s,render:function(e){return n?r.a.createElement(R.a,{to:"/open"}):r.a.createElement(t,e)}})}))),D=Object(R.g)(Object(i.b)(U)((function(e){var t=e.component,a=e.loggedIn,n=Object(A.a)(e,["component","loggedIn"]);return r.a.createElement(R.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(R.a,{to:"/login"})}}))}))),M=a(10),B=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",errors:{}},n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n.demoLogin=n.demoLogin.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(){this.changeBorder()}},{key:"componentWillReceiveProps",value:function(e){!0===e.currentUser&&this.props.history.push("/"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(M.a)({},e,a.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.resetClasses();var t={email:this.state.email,password:this.state.password};this.props.login(t)}},{key:"renderSignUp",value:function(){return r.a.createElement("div",{className:"render-signup"},r.a.createElement("span",null,"Don't have an account?"),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/signup"},"SIGN UP")))}},{key:"resetClasses",value:function(){var e=document.getElementById("email"),t=document.getElementById("email-error");e&&(e.classList.remove("has-error"),t.classList.remove("hidden")),e=document.getElementById("password"),t=document.getElementById("password-error"),e&&(e.classList.remove("has-error"),t.classList.remove("hidden"))}},{key:"changeBorder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if("all"===e){var t=document.getElementById("email"),a=document.getElementById("email-error");t&&(a.classList.contains("hidden")||this.state.errors.login||t.classList.add("has-error")),t=document.getElementById("password"),a=document.getElementById("password-error"),t&&(a.classList.contains("hidden")||this.state.errors.login||t.classList.add("has-error"))}else{var n=document.getElementById(e),r=e+"-error",s=document.getElementById(r);n&&s&&(n.classList.remove("has-error"),s.classList.add("hidden"))}}},{key:"changeBorderonBlur",value:function(e){var t=document.getElementById(e);if(t&&!this.state[e]){var a=e+"-error";document.getElementById(a).classList.remove("hidden"),t.classList.add("has-error")}else if(t&&this.state[e]){var n=e+"-error";document.getElementById(n).classList.add("hidden"),t.classList.remove("has-error")}}},{key:"renderMismatchError",value:function(){return this.state.errors.login?r.a.createElement("div",{className:"login-form-error"},this.state.errors.login):null}},{key:"demoLogin",value:function(e){return e.preventDefault(),this.typeWriter("demouser@demouser.com","demouser")}},{key:"typeWriter",value:function(e,t){var a=this,n=0,r=0,s=document.getElementById("email"),l=document.getElementById("password");s.value="",l.value="";return function i(){n<e.length?(s.value+=e.charAt(n),n++,setTimeout(i,50)):r<t.length?(l.value+=t.charAt(r),r++,setTimeout(i,50)):(a.setState({email:e,password:t}),a.resetClasses(),a.props.login(a.state))}()}},{key:"render",value:function(){var e=this;return this.changeBorder(),r.a.createElement("div",{className:"login-form-container"},r.a.createElement("div",{className:"heading",style:{display:"inline-block",padding:"30px",fontSize:"36px",fontWeight:"900"}},"Rock-N-Roll"),r.a.createElement("div",{className:"login-form-error-container"},this.renderMismatchError()),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"login-form"},r.a.createElement("br",null),r.a.createElement("div",{className:"email-input"},r.a.createElement("input",{id:"email",className:"form-email login",type:"text",value:this.state.email,onChange:this.update("email"),placeholder:"Email address or username",onFocus:function(){return e.changeBorder("email")},onBlur:function(){return e.changeBorderonBlur("email")}}),r.a.createElement("div",{id:"email-error",className:"login error-div"},this.state.errors.email)),r.a.createElement("br",null),r.a.createElement("div",{className:"password-input"},r.a.createElement("input",{id:"password",className:"form-password login",type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password",onFocus:function(){return e.changeBorder("password")},onBlur:function(){return e.changeBorderonBlur("password")}}),r.a.createElement("div",{id:"password-error",className:"login error-div"},this.state.errors.password)),r.a.createElement("br",null),r.a.createElement("div",{className:"submit-button"},r.a.createElement("input",{type:"submit",value:"LOG IN"})))),this.renderSignUp())}}]),a}(r.a.Component),x=Object(R.g)(B),V=Object(i.b)((function(e){return{errors:e.errors.session}}),(function(e){return{login:function(t){return e(y(t))}}}))(x),q=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",email2:"",username:"",password:"",password2:"",birthdate:"",errors:{},error_touched:{email:!1,email2:!1,password:!1,password2:!1,username:!1,birthdate:!1},error_exists:{email:!1,email2:!1,password:!1,password2:!1,username:!1,birthdate:!1}},n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n.clearedErrors=!1,n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){!0===e.signedIn&&this.props.history.push("/login"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(M.a)({},e,a.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email2:this.state.email2,email:this.state.email,username:this.state.username,password:this.state.password,password2:this.state.password2,birthdate:this.state.birthdate};this.resetErrorDisplay(),this.props.signup(t,this.props.history)}},{key:"resetErrorDisplay",value:function(){this.setState({error_touched:{email:!1,email2:!1,password:!1,password2:!1,username:!1,birthdate:!1}})}},{key:"handleOnFocus",value:function(e){var t=this,a=this.state.error_touched;return a[e]=!0,function(){return t.setState({touchField:a})}}},{key:"renderError",value:function(e){if(!this.state.error_touched[e])return r.a.createElement("div",{id:"".concat(e,"-error"),className:"signup error-div"},this.state.errors[e])}},{key:"renderInputField",value:function(e){var t,a=this,n=e.charAt(0).toUpperCase()+e.substring(1);return e.includes("2")&&(n=n.substring(0,n.length-1)+" Confirm"),t=e.includes("email")||"username"===e?"text":e.includes("password")?"password":"Date",!this.state.error_touched[e]&&this.state.errors[e]?r.a.createElement("input",{id:e,type:t,className:"signup-border has-error",value:this.state[e],onChange:this.update(e),placeholder:n,onFocus:function(){return a.handleOnFocus(e)}}):r.a.createElement("input",{id:e,type:t,className:"signup-border",value:this.state[e],onChange:this.update(e),placeholder:n,onFocus:function(){return a.handleOnFocus(e)}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("div",{className:"heading",style:{display:"inline-block",padding:"30px",fontSize:"36px",fontWeight:"900"}},"Rock-N-Roll"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"signup-form"},r.a.createElement("br",null),r.a.createElement("div",{className:"signup-input email"},this.renderInputField("email"),this.renderError("email")),r.a.createElement("br",null),r.a.createElement("div",{className:"signup-input email2"},this.renderInputField("email2"),this.renderError("email2")),r.a.createElement("br",null),r.a.createElement("div",{className:"signup-input password"},this.renderInputField("password"),this.renderError("password")),r.a.createElement("br",null),r.a.createElement("div",{className:"signup-input password2"},this.renderInputField("password2"),this.renderError("password2")),r.a.createElement("br",null),r.a.createElement("div",{className:"signup-input username"},this.renderInputField("username"),this.renderError("username")),r.a.createElement("br",null),r.a.createElement("div",{className:"signup-input birthdate"},r.a.createElement("label",null,"Date of Birth",r.a.createElement("div",{className:"birthdate"},this.renderInputField("birthdate"),this.renderError("birthdate")))),r.a.createElement("br",null),r.a.createElement("div",{className:"signup-button"},r.a.createElement("input",{type:"submit",value:"SIGN UP"})))))}}]),a}(r.a.Component),G=Object(R.g)(q),K=Object(i.b)((function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}}),(function(e){return{signup:function(t){return e(b(t))}}}))(G),Y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleLike=n.toggleLike.bind(Object(O.a)(n)),n.renderLike=n.renderLike.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUser(this.props.currentUserId)}},{key:"toggleLike",value:function(){var e={songId:this.props.currentTrack._id,userId:this.props.currentUserId};this.props.toggleLike(e)}},{key:"renderLike",value:function(){return this.props.currentUser&&this.props.currentUser.likedSongs.includes(this.props.currentTrack._id)?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"})}},{key:"render",value:function(){var e,t=this.props,a=t.currentTrack,n=t.nextTrack;return a?(e=this.props.shuffle?"Currently shuffling... \xaf\\_(\u30c4)_/\xaf":n?"Coming up next: ".concat(n.title," By ").concat(n.artist.name):null,r.a.createElement("div",{className:"pi-container"},r.a.createElement("img",{className:"pi-image",src:a.imageUrl,alt:""}),r.a.createElement("div",{className:"pi-details"},r.a.createElement(c.b,{to:"/open/artist/".concat(a.artist._id)},r.a.createElement("div",{className:"pi-details-title"},a.title)),r.a.createElement(c.b,{to:"/open/artist/".concat(a.artist._id)},r.a.createElement("div",{className:"pi-details-artist"},a.artist.name)),n?r.a.createElement("div",{className:"pi-details-next"},e):null),r.a.createElement("div",{onClick:this.toggleLike},this.renderLike()))):r.a.createElement("div",{className:"pi-container"})}}]),a}(r.a.Component),F=Y,W=function(e){return{type:"RECEIVE_SONGS",songs:e}},z=function(){return function(e){return h.a.get("/api/songs").then((function(t){e(W(t))}))}},H=function(e){return function(t){return function(e){return h.a.get("/api/users/".concat(e,"/likedSongs"))}(e).then((function(e){t(W(e))}))}},J=function(e){return function(t){return function(e){return h.a.get("/api/songs/genre/".concat(e))}(e).then((function(e){t(W(e))}))}},X=function(e){return function(t){return function(e){return h.a.get("/api/songs/search/".concat(e))}(e).then((function(e){t(W(e))}))}},Q=function(e){return function(t){return function(e){return h.a.patch("/api/songs/like/".concat(e.songId),e)}(e).then((function(e){t(function(e){return{type:"TOGGLE_SONG_LIKE",likeData:e}}(e))}))}},Z=function(e){return function(t){return(a=e,h.a.get("api/users/".concat(a))).then((function(e){return t(function(e){return{type:"RECEIVE_USER",user:e}}(e))}));var a}},$=Object(i.b)((function(e){return{currentTrack:e.queue[0],tracks:e.queue,nextTrack:e.queue[1],currentUserId:e.session.user.id,currentUser:e.entities.users[e.session.user.id]}}),(function(e){return{toggleLike:function(t){return e(Q(t))},fetchUser:function(t){return e(Z(t))}}}))(F),ee=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={play:!1,time:0,duration:0,mute:!1,repeat:!1,shuffle:!1},n.audio=r.a.createRef(),n.play=n.play.bind(Object(O.a)(n)),n.handleonPlay=n.handleonPlay.bind(Object(O.a)(n)),n.pause=n.pause.bind(Object(O.a)(n)),n.updateTime=n.updateTime.bind(Object(O.a)(n)),n.parseTime=n.parseTime.bind(Object(O.a)(n)),n.updateVolume=n.updateVolume.bind(Object(O.a)(n)),n.volumeBtn=n.volumeBtn.bind(Object(O.a)(n)),n.toggleMute=n.toggleMute.bind(Object(O.a)(n)),n.toggleRepeat=n.toggleRepeat.bind(Object(O.a)(n)),n.nextTrack=n.nextTrack.bind(Object(O.a)(n)),n.prevTrack=n.prevTrack.bind(Object(O.a)(n)),n.toggleShuffle=n.toggleShuffle.bind(Object(O.a)(n)),n.handleEnded=n.handleEnded.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){e.volume!==this.props.volume&&(this.audio.volume=this.props.volume),e.currentTrack!==this.props.currentTrack&&clearInterval(this.interval),e.currentTrack!==this.props.currentTrack&&void 0===this.props.currentTrack&&(this.setState({pause:!0}),this.audio.pause(),clearInterval(this.interval))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.props.removeEverything()}},{key:"play",value:function(e){if(e.preventDefault(),!this.props.currentTrack)return null;this.handleonPlay(),this.audio.play()}},{key:"handleonPlay",value:function(){var e=this;this.setState({play:!0}),this.audio.volume=this.props.volume,this.interval=setInterval((function(){e.audio&&e.setState({time:e.audio.currentTime,duration:e.audio.duration})}),500)}},{key:"handleEnded",value:function(){this.state.shuffle?this.props.shuffleTracks():this.props.nextTrack?this.props.nextTrack():(this.setState({play:!1}),this.audio.pause())}},{key:"pause",value:function(e){e.preventDefault(),this.setState({play:!1}),this.audio.pause()}},{key:"nextTrack",value:function(e){e.preventDefault(),this.props.nextTrack()}},{key:"prevTrack",value:function(e){e.preventDefault(),this.props.prevTrack()}},{key:"updateTime",value:function(e){this.audio.currentTime=e.target.value,this.setState({time:e.target.value})}},{key:"updateVolume",value:function(e){this.props.changeVolume(e.target.value/100)}},{key:"toggleRepeat",value:function(e){var t=this;e.preventDefault(),this.setState({repeat:!this.state.repeat},(function(){t.audio.loop=t.state.repeat}))}},{key:"toggleShuffle",value:function(e){e.preventDefault(),this.setState({shuffle:!this.state.shuffle})}},{key:"toggleMute",value:function(e){var t=this;this.setState({mute:!this.state.mute},(function(){t.props.volume&&(t.prevVolume=t.props.volume),t.state.mute?(t.props.changeVolume(0),t.audio.volume=0):(t.props.changeVolume(t.prevVolume),t.audio.volume=t.prevVolume)}))}},{key:"parseTime",value:function(e){if(!e)return"0:00";var t=Math.floor(e/60),a=Math.floor(e-60*t);return a<10&&(a="0".concat(a)),"".concat(t,":").concat(a)}},{key:"volumeBtn",value:function(){var e,t=this.props.volume;return e=t>=.5?r.a.createElement("i",{className:"fas fa-volume-up"}):t<.5&&t>0?r.a.createElement("i",{className:"fas fa-volume-down"}):r.a.createElement("i",{className:"fas fa-volume-mute"}),r.a.createElement("div",{onClick:this.toggleMute,className:"p-volume-btn"},e)}},{key:"render",value:function(){var e=this,t=r.a.createElement("button",{className:"p-button-circle",onClick:this.play},r.a.createElement("i",{className:"fas fa-play"})),a=r.a.createElement("button",{className:"p-button-circle",onClick:this.pause},r.a.createElement("i",{className:"fas fa-pause"})),n=this.state.shuffle?"-shuffling":null,s=(this.toggleShuffle,"p-button-shuffle".concat(n," pbtn"),this.state.repeat?"-active":null),l=("p-button-repeat".concat(s," pbtn"),this.toggleRepeat,this.prevTrack,this.nextTrack,this.state),i=l.play,o=l.time,u=l.duration,p=this.props.currentTrack;return r.a.createElement("div",{className:"p-container"},r.a.createElement($,{shuffle:this.state.shuffle}),r.a.createElement("div",{className:"p-audio-control"},r.a.createElement("div",{className:"p-buttons-container"},r.a.createElement("audio",{src:p?p.songUrl:null,ref:function(t){return e.audio=t},onPlay:this.handleonPlay,onEnded:this.handleEnded,autoPlay:!0}),!i&&t,i&&a),r.a.createElement("div",{className:"p-timeline-container"},r.a.createElement("span",{className:"p-current-time"},this.parseTime(o)),r.a.createElement("input",{className:"p-timeline",type:"range",onChange:this.updateTime,value:o,max:u}),r.a.createElement("span",{className:"p-duration"},this.parseTime(u)))),r.a.createElement("div",{className:"p-volume-container"},r.a.createElement(c.b,{to:"/open/queue"},r.a.createElement("div",{className:"p-queue-list"},r.a.createElement("i",{className:"fas fa-indent"}))),this.volumeBtn(),r.a.createElement("input",{className:"p-volume",type:"range",onChange:this.updateVolume,value:100*this.props.volume,max:"100",style:{backgroundImage:"-webkit-gradient(linear, left top, right top, color-stop("+this.props.volume+", #3c02b0), color-stop("+this.props.volume+", #666666))"}})))}}]),a}(r.a.Component),te=function(e){return{type:"PLAY_TRACK",track:e}},ae=function(e){return{type:"PLAY_ALL_TRACKS",tracks:e}},ne=function(e){return{type:"ADD_TRACK",track:e}},re=Object(R.g)(Object(i.b)((function(e){return{volume:e.player.volume,currentTrack:e.queue[0],tracks:e.queue,nextTrack:e.queue[1]}}),(function(e){return{changeVolume:function(t){return e(function(e){return{type:"RECEIVE_VOLUME",volume:e}}(t))},playAllTracks:function(t){return e(ae(t))},nextTrack:function(){return e({type:"NEXT_TRACK"})},prevTrack:function(){return e({type:"PREV_TRACK"})},shuffleTracks:function(){return e({type:"SHUFFLE_TRACKS"})},removeEverything:function(){return e({type:"REMOVE_EVERYTHING"})}}}))(ee)),se=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{id:"navBar"},r.a.createElement(c.b,{className:"navBar-link",to:"/open"},r.a.createElement("div",{id:"splash-logo",className:"sidebar-Rock-N-Roll",style:{fontSize:"28px",fontWeight:"bold",padding:"9%"}},"Rock-N-Roll")),r.a.createElement("div",{id:"navBar-header"},r.a.createElement("ul",{id:"navBar-entry-points"},r.a.createElement("li",null,r.a.createElement("div",{className:"navBar-item"},r.a.createElement(c.b,{className:"navBar-link",to:"/open"},r.a.createElement("i",{class:"fas fa-home home-icon"}),"Home"))),r.a.createElement("li",null,r.a.createElement("div",{className:"navBar-item"},r.a.createElement(c.b,{className:"navBar-link",to:"/open/library"},r.a.createElement("i",{class:"fas fa-book libary-icon"}),"Your Library"))))))}}]),a}(r.a.Component),le=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).renderPlaylists=n.renderPlaylists.bind(Object(O.a)(n)),n.closeOptions=n.closeOptions.bind(Object(O.a)(n)),n.renderOptions=n.renderOptions.bind(Object(O.a)(n)),n.renamePlaylist=n.renamePlaylist.bind(Object(O.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(O.a)(n)),n.deletePlaylist=n.deletePlaylist.bind(Object(O.a)(n)),n.toggleRenamePopUp=n.toggleRenamePopUp.bind(Object(O.a)(n)),n.state={title:"",showDropDown:!1,showRename:!1,mouseCoordsleft:0,mouseCoordsTop:0,renameCoordsLeft:0,renameCoordsTop:0,currentTargetPlaylistId:null},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.currentUserId&&this.props.fetchUserPlaylists(this.props.currentUserId),document.addEventListener("mousedown",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"handleClick",value:function(e){var t=l.a.findDOMNode(this);t&&t.contains(e.target)||this.setState({showDropDown:!1})}},{key:"handleKeyDown",value:function(e){if("Enter"===e.key){var t={playlistId:this.state.currentTargetPlaylistId,title:this.state.title};this.props.renamePlaylist(t),this.setState({showRename:!1})}}},{key:"closeOptions",value:function(){this.setState({showDropDown:!1})}},{key:"renderOptions",value:function(e){e.preventDefault(),e.target.dataset.playlistid&&this.setState({targetedPlaylistContainer:e.target,showRename:!1,showDropDown:!this.state.showDropDown,mouseCoordsLeft:e.clientX,mouseCoordsTop:e.clientY,currentTargetPlaylistId:e.target.dataset.playlistid})}},{key:"renamePlaylist",value:function(){var e=this;return function(t){var a=e.state.targetedPlaylistContainer.getBoundingClientRect(),n=a.x,r=a.y-5;e.setState({showRename:!e.state.showRename,showDropDown:!1,renameCoordsLeft:n,renameCoordsTop:r},(function(){return e.setFocus()}))}}},{key:"deletePlaylist",value:function(e){var t=this,a={playlistId:e,userId:this.props.currentUserId};return function(){t.props.removePlaylist(a),t.setState({showRename:!1,showDropDown:!t.state.showDropDown})}}},{key:"toggleRenamePopUp",value:function(){this.setState({showRename:!1})}},{key:"setFocus",value:function(){document.getElementById("playlist-rename-input-field").focus()}},{key:"renderPlaylists",value:function(){var e=this;if(this.props.playlists){var t=Object.assign({},this.props.playlists);return t.current&&delete t.current,r.a.createElement("div",{id:"playlists-items-container",onContextMenu:this.renderOptions},this.state.showDropDown&&r.a.createElement("div",{className:"playlist-options-popup",style:{left:this.state.mouseCoordsLeft,top:this.state.mouseCoordsTop}},r.a.createElement("p",{className:"option-choice",onClick:this.renamePlaylist(this.state.currentTargetPlaylistId)},"Rename Playlist "),r.a.createElement("p",{className:"option-choice",onClick:this.deletePlaylist(this.state.currentTargetPlaylistId)},"Delete Playlist"),r.a.createElement("p",{className:"option-choice",onClick:this.closeOptions},"Cancel")),Object.values(t).map((function(t,a){return r.a.createElement(c.b,{to:"/open/playlist/".concat(t._id),className:"playlists-item-container",key:t._id,"data-playlistid":t._id,onContextMenu:e.renderOptions},t.title)})),this.state.showRename&&r.a.createElement("input",{id:"playlist-rename-input-field",className:"playlist-rename-input-field",type:"text",name:"playlist-name",onChange:this.update("title"),placeholder:"New Playlist Name",style:{left:this.state.renameCoordsLeft,top:this.state.renameCoordsTop},onContextMenu:this.toggleRenamePopUp,onKeyDown:this.handleKeyDown}))}}},{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(M.a)({},e,a.currentTarget.value))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"playlist-container"},r.a.createElement("h4",null,"Playlists"),r.a.createElement("div",{className:"navBar-item"},r.a.createElement("div",{className:"navBar-link",onClick:function(){return e.props.openModal("createPlaylist")}},r.a.createElement("i",{class:"fas fa-plus-square"}),"Create Playlist")),r.a.createElement("hr",{className:"divider"}),this.renderPlaylists())}}]),a}(r.a.Component),ie=function(e,t){return{type:"OPEN_MODAL",data:{modal:e,songId:t}}},ce=function(e){return{type:"RECEIVE_PLAYLIST",playlist:e}},oe=function(e,t){return function(a){return function(e,t){var a={songId:e};return h.a.patch("/api/playlists/addto/".concat(t),a)}(e,t).then((function(e){return a(ce(e))}))}},ue=function(e){return function(t){return function(e){return h.a.post("/api/playlists/create",e)}(e).then((function(e){return t(ce(e))}))}},pe=function(e){return function(t){return function(e){return h.a.get("/api/users/".concat(e,"/playlists"))}(e).then((function(e){return t(function(e){return{type:"RECEIVE_USER_PLAYLISTS",playlists:e}}(e))}))}},me=function(e){return function(t){return function(e){return h.a.delete("/api/playlists/delete/".concat(e.playlistId))}(e).then((function(e){return t(function(e){return{type:"DELETE_PLAYLIST",playlist:e}}(e.data))}))}},de=function(e){return function(t){return function(e){return h.a.patch("/api/playlists/rename/".concat(e.playlistId),e)}(e).then((function(e){return t(function(e){return{type:"RENAME_PLAYLIST;",playlist:e}}(e))}))}},he=function(e){return function(t){return function(e){return h.a.get("/api/playlists/".concat(e))}(e).then((function(e){return t(function(e){return{type:"SHOW_PLAYLIST",playlist:e}}(e))}))}},fe=Object(i.b)((function(e){return{playlists:e.entities.playlist,currentUserId:e.session.user.id}}),(function(e){return{openModal:function(t){return e(ie(t))},closeModal:function(){return e({type:"CLOSE_MODAL"})},fetchUserPlaylists:function(t){return e(pe(t))},removePlaylist:function(t){return e(me(t))},renamePlaylist:function(t){return e(de(t))}}}))(le),ve=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"root-navBar"},r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(se,null),r.a.createElement(fe,null)))}}]),a}(r.a.Component),Ee=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleAdd=function(e){e.preventDefault(),n.props.openModal("choosePlaylist",n.state.songId)},n.handleToggle=function(e,t){e.preventDefault();var a=document.getElementById(t);a&&a.classList.toggle("show")},n.handleToggle=n.handleToggle.bind(Object(O.a)(n)),n.handleAdd=n.handleAdd.bind(Object(O.a)(n)),n.state={songId:n.props.song._id},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.song;return r.a.createElement("div",{className:"song"},r.a.createElement("li",null,r.a.createElement("img",{className:"song-photo",src:t.imageUrl,alt:""})),r.a.createElement("li",{className:"song-item-info"},r.a.createElement("p",{className:"song-title"},t.title),r.a.createElement(c.b,{to:"/open/artist/".concat(t.artist._id),id:t.artist._id},r.a.createElement("p",{className:"song-artist"},t.artist.name)),r.a.createElement("div",{className:"play-button",onClick:function(a){return e.props.playTrack(t)}},r.a.createElement("i",{className:"fas fa-play-circle"})),r.a.createElement("div",{className:"options-song",onClick:function(a){return e.handleToggle(a,t._id)}},r.a.createElement("i",{className:"fa fa-ellipsis-h","aria-hidden":"true"}),r.a.createElement("div",{className:"options-popup"},r.a.createElement("div",{className:"optionstext",id:t._id},r.a.createElement("p",{className:"option-choice",onClick:function(t){return e.handleAdd(t)}},"Add To Playlist"),r.a.createElement("p",{className:"option-choice",onClick:function(a){return e.props.playTrack(t)}},"Play Song"))))))}}]),a}(r.a.Component),ge=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.searchSongs(this.props.search)}},{key:"componentDidUpdate",value:function(e){this.props.search&&e.search!==this.props.search&&this.props.searchSongs(this.props.search)}},{key:"render",value:function(){var e,t=this;if(!this.props.songs||0===this.props.songs.length)return null;var a=this.props.songs,n=(e=Object.values(a).map((function(e){return r.a.createElement(Ee,{key:e._id,song:e,addTrack:t.props.addTrack,playTrack:t.props.playTrack,addSongToPlaylist:t.props.addSongToPlaylist,openModal:t.props.openModal,closeModal:t.props.closeModal})}))).length>0?r.a.createElement("h1",{className:"songs-list-title"},"Songs"):null;return r.a.createElement("div",null,n,r.a.createElement("div",{className:"songs-list"},e))}}]),a}(r.a.Component),be=Object(i.b)((function(e){return{songs:e.entities.songs}}),(function(){return function(e){return{fetchSongs:function(){return e(z())},searchSongs:function(t){return e(X(t))},playTrack:function(t){return e(te(t))},addTrack:function(t){return e(ne(t))},addSongToPlaylist:function(t,a){return e(oe(t,a))},openModal:function(t,a){return e(ie(t,a))},closeModal:function(){return e({type:"CLOSE_MODAL"})}}}}))(ge),ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).playSongs=n.playSongs.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"playSongs",value:function(e){e.preventDefault(),this.props.playAllTracks(this.props.artist.songs)}},{key:"render",value:function(){var e=this,t=this.props.artist;return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/open/artist/".concat(t._id),id:t._id},r.a.createElement("div",{className:"artist"},r.a.createElement("li",null,r.a.createElement("img",{className:"artist-photo",src:t.imageUrl,alt:""})),r.a.createElement("li",{className:"artist-name"},t.name),r.a.createElement("li",{className:"artist-description"},"Artist"),r.a.createElement("li",null,r.a.createElement("div",{className:"play-button-album",onClick:function(t){return e.playSongs(t)}},r.a.createElement("i",{className:"fas fa-play-circle"}))))))}}]),a}(r.a.Component),ke=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.searchArtists(this.props.search)}},{key:"componentDidUpdate",value:function(e){e.search!==this.props.search&&this.props.searchArtists(this.props.search)}},{key:"render",value:function(){var e,t=this;if(!this.props.artists||0===this.props.artists.length)return null;var a=this.props.artists,n=(e=Object.values(a).map((function(e){return r.a.createElement(ye,{key:e._id,artist:e,playAllTracks:t.props.playAllTracks})}))).length>0?r.a.createElement("h1",{className:"artists-list-title"},"Artists"):null;return r.a.createElement("div",null,n,r.a.createElement("div",{className:"artists-list"},e))}}]),a}(r.a.Component),Oe=function(e){return{type:"RECEIVE_ARTISTS",artists:e}},Ne=function(e){return function(t){return function(e){return h.a.get("/api/artists/".concat(e))}(e).then((function(e){t(function(e){return{type:"RECEIVE_ARTIST",artist:e}}(e))}))}},je=function(){return function(e){return h.a.get("/api/artists").then((function(t){e(Oe(t))}))}},Te=function(e){return function(t){return function(e){return h.a.get("/api/artists/search/".concat(e))}(e).then((function(e){t(Oe(e))}))}},Se=Object(i.b)((function(e){return{artists:e.entities.artists}}),(function(){return function(e){return{fetchArtists:function(){return e(je())},searchArtists:function(t){return e(Te(t))},playAllTracks:function(t){return e(ae(t))}}}}))(ke),Ce=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).playSongs=n.playSongs.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"playSongs",value:function(e){e.preventDefault(),this.props.playAllTracks(this.props.album.songs)}},{key:"render",value:function(){var e=this,t=this.props.album;return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/open/album/".concat(t._id),id:t._id},r.a.createElement("div",{className:"album"},r.a.createElement("li",null,r.a.createElement("img",{className:"album-photo",src:t.imageUrl,alt:""})),r.a.createElement("li",{className:"album-name"},t.title),r.a.createElement(c.b,{to:"/open/artist/".concat(t.artist._id),id:t.artist._id},r.a.createElement("li",{className:"album-artist"},t.artist.name)),r.a.createElement("li",null,r.a.createElement("div",{className:"play-button-album",onClick:function(t){return e.playSongs(t)}},r.a.createElement("i",{className:"fas fa-play-circle"}))))))}}]),a}(r.a.Component),we=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.searchAlbums(this.props.search)}},{key:"componentDidUpdate",value:function(e){e.search!==this.props.search&&this.props.searchAlbums(this.props.search)}},{key:"render",value:function(){var e,t=this;if(!this.props.albums||0===this.props.albums.length)return null;var a=this.props.albums,n=(e=Object.values(a).map((function(e){return r.a.createElement(Ce,{key:e._id,album:e,playAllTracks:t.props.playAllTracks})}))).length>0?r.a.createElement("h1",{className:"artists-list-title"},"Albums"):null;return r.a.createElement("div",null,n,r.a.createElement("div",{className:"artists-list"},e))}}]),a}(r.a.Component),_e=function(e){return{type:"RECEIVE_ALBUMS",albums:e}},Ie=function(e){return function(t){return function(e){return h.a.get("/api/albums/".concat(e))}(e).then((function(e){t(function(e){return{type:"RECEIVE_ALBUM",album:e}}(e))}))}},Le=function(){return function(e){return h.a.get("/api/albums").then((function(t){e(_e(t))}))}},Ae=function(e){return function(t){return function(e){return h.a.get("/api/albums/search/".concat(e))}(e).then((function(e){t(_e(e))}))}},Re=function(e){return function(t){return function(e){return h.a.patch("api/albums/like/".concat(e.albumId),e)}(e).then((function(e){t(function(e){return{type:"TOGGLE_ALBUM_LIKE",likeData:e}}(e))}))}},Ue=Object(i.b)((function(e){return{albums:e.entities.albums}}),(function(){return function(e){return{fetchAlbums:function(){return e(Le())},searchAlbums:function(t){return e(Ae(t))},playAllTracks:function(t){return e(ae(t))}}}}))(we),Pe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).playSongs=n.playSongs.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"playSongs",value:function(e){e.preventDefault(),this.props.playAllTracks(this.props.playlist.songs)}},{key:"render",value:function(){var e,t=this,a=this.props.playlist,n=0!==a.songs.length?a.songs[0].imageUrl:"/static/images/playlist.png";return e=0!==a.songs.length?a.songs.length>1?a.songs.length+" songs":a.songs.length+" song":"No songs yet",r.a.createElement("div",null,r.a.createElement(c.b,{to:"/open/playlist/".concat(a._id),id:a._id},r.a.createElement("div",{className:"album"},r.a.createElement("li",null,r.a.createElement("img",{className:"album-photo",src:n,alt:""})),r.a.createElement("li",{className:"album-name"},a.title),r.a.createElement("li",{className:"song-count"},e),r.a.createElement("li",null,r.a.createElement("div",{className:"play-button-album",onClick:function(e){return t.playSongs(e)}},r.a.createElement("i",{className:"fas fa-play-circle"}))))))}}]),a}(r.a.Component),De=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUserPlaylists(this.props.currentUserId)}},{key:"render",value:function(){var e,t,a=this;if(this.props.location&&(e="/open/library"===this.props.location.pathname?"open-player-body":"home-page"),!this.props.playlists||0===this.props.playlists.length)return null;var n=this.props.playlists,s=(t=Object.values(n).map((function(e){return r.a.createElement(Pe,{key:e._id,playlist:e,playAllTracks:a.props.playAllTracks})}))).length>0?r.a.createElement("h1",{className:"artists-list-title"},"Playlists"):null;return r.a.createElement("div",{className:e},s,r.a.createElement("div",{className:"playlists-list"},t))}}]),a}(r.a.Component),Me=Object(i.b)((function(e){return{playlists:e.entities.playlist,currentUserId:e.session.user.id}}),(function(){return function(e){return{fetchUserPlaylists:function(t){return e(pe(t))},playAllTracks:function(t){return e(ae(t))}}}}))(De),Be=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=r.a.createElement("h1",{className:"artists-list-title"},"Liked Songs");return r.a.createElement("div",{className:"likedsongs-index"},e,r.a.createElement("div",{className:"playlists-list"},r.a.createElement("div",null,r.a.createElement(c.b,{to:"/open/likedsongs",id:"likesongs"},r.a.createElement("div",{className:"album"},r.a.createElement("li",null,r.a.createElement("img",{className:"album-photo",src:"/static/images/liked.png",alt:""})),r.a.createElement("li",{className:"album-name"},"Your Liked Songs"),r.a.createElement("li",null,r.a.createElement("div",{className:"play-button-liked"},r.a.createElement("i",{className:"fas fa-music"}))))))))}}]),a}(r.a.Component),xe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",null,r.a.createElement("h1",{className:"genre-title"},"Music genre"),r.a.createElement("div",{className:"suggested-genres"},r.a.createElement(c.b,{to:"/open/genre/softrock"},r.a.createElement("div",{className:"genre-1"},r.a.createElement("p",{className:"genre-subtitle"},"Reggae"),r.a.createElement("img",{className:"genre-img",src:"static/images/softrock.png",alt:""}))),r.a.createElement(c.b,{to:"/open/genre/altrock"},r.a.createElement("div",{className:"genre-2"},r.a.createElement("p",{className:"genre-subtitle"},"Rock music"),r.a.createElement("img",{className:"genre-img",src:"static/images/altrock.png",alt:""}))),r.a.createElement(c.b,{to:"/open/genre/classicrock"},r.a.createElement("div",{className:"genre-3"},r.a.createElement("p",{className:"genre-subtitle"},"Hip hop music"),r.a.createElement("img",{className:"genre-img",src:"static/images/classicrock.png",alt:""})))),r.a.createElement(Me,null),r.a.createElement(Be,null)))}}]),a}(r.a.Component),Ve=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={search:""},n.update=n.update.bind(Object(O.a)(n)),n.getResults=n.getResults.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"update",value:function(e){e.preventDefault(),this.setState({search:e.currentTarget.value}),this.getResults()}},{key:"getResults",value:function(){return this.state.search?r.a.createElement("div",{className:"open-player-body"},r.a.createElement(be,{search:this.state.search}),r.a.createElement(Se,{search:this.state.search}),r.a.createElement(Ue,{search:this.state.search})):r.a.createElement("div",null,r.a.createElement(xe,null))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-bar"},r.a.createElement("i",{className:"fas fa-search search-glass"}),r.a.createElement("input",{className:"search-input",placeholder:"Search for Artists, Songs, or Albums",value:this.state.search,onChange:function(t){return e.update(t)}}),this.getResults())}}]),a}(r.a.Component),qe=Object(i.b)((function(e){return{songs:e.entities.songs}}),(function(){return function(e){return{fetchSongs:function(){return e(z())}}}}))(Ve),Ge=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchArtist(this.props.match.params.id)}},{key:"render",value:function(){var e,t=this;if(!this.props.artist)return null;var a=this.props.artist,n=a.songs;return n&&(e=n.map((function(e){return r.a.createElement(Ee,{key:e._id,song:e,addTrack:t.props.addTrack,playTrack:t.props.playTrack,addSongToPlaylist:t.props.addSongToPlaylist,openModal:t.props.openModal,closeModal:t.props.closeModal})}))),r.a.createElement("div",{className:"artist-page"},r.a.createElement("img",{className:"artist-show-photo",src:a.imageUrl,alt:""}),r.a.createElement("div",{className:"open-player-body"},r.a.createElement("h1",{className:"artist-show-title"},a.name),r.a.createElement("div",{className:"artist-show-songs"},e)))}}]),a}(r.a.Component),Ke=Object(i.b)((function(e){return{artist:e.entities.artists}}),(function(){return function(e){return{fetchArtist:function(t){return e(Ne(t))},playTrack:function(t){return e(te(t))},addTrack:function(t){return e(ne(t))},addSongToPlaylist:function(t,a){return e(oe(t,a))},closeModal:function(){return e({type:"CLOSE_MODAL"})},openModal:function(t,a){return e(ie(t,a))}}}}))(Ge),Ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={active:""},n.comingUp=n.comingUp.bind(Object(O.a)(n)),n.closeTrack=n.closeTrack.bind(Object(O.a)(n)),n.moveUp=n.moveUp.bind(Object(O.a)(n)),n.moveDown=n.moveDown.bind(Object(O.a)(n)),n.clearTracks=n.clearTracks.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"comingUp",value:function(){var e,t=this;return this.props.nextTrack&&(e=this.props.tracks.slice(1).map((function(e,a){return r.a.createElement("div",{onClick:function(a){return t.state.active!==e._id?t.setState({active:e._id}):t.setState({active:""})},key:a,id:t.state.active===e._id?"active":null,className:"pq-next-container ".concat(e._id)},r.a.createElement("i",{className:"fas fa-play"}),r.a.createElement("div",{className:"pq-details"},r.a.createElement("span",{className:"pq-title"},e.title),r.a.createElement("h4",{to:"/open/artist/".concat(e.artist._id)},r.a.createElement("span",{className:"pq-artist"},e.artist.name))),r.a.createElement("ul",{className:t.state.active===e._id?"pq-options-active":"pq-options"},r.a.createElement("li",null,r.a.createElement("i",{onClick:t.moveUp(e),className:"fas fa-arrow-up"})),r.a.createElement("li",null,r.a.createElement("i",{onClick:t.moveDown(e),className:"fas fa-arrow-down"})),r.a.createElement("li",{className:"pq-close",onClick:t.closeTrack(e)},r.a.createElement("i",{className:"fas fa-times"}))))}))),e}},{key:"moveUp",value:function(e){var t=this;return function(a){a.stopPropagation(),t.props.moveUp(e)}}},{key:"moveDown",value:function(e){var t=this;return function(a){a.stopPropagation(),t.props.moveDown(e)}}},{key:"closeTrack",value:function(e){var t=this;return function(a){a.stopPropagation(),t.props.removeTrack(e._id)}}},{key:"clearTracks",value:function(e){e.stopPropagation(),this.props.removeAll()}},{key:"render",value:function(){var e=this,t=this.props.currentTrack;return t?r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"pq-container"},r.a.createElement("h1",null,"Play Queue"),r.a.createElement("h2",null,"Now Playing "),r.a.createElement("div",{onClick:function(a){return e.state.active!==t._id?e.setState({active:t._id}):e.setState({active:""})},id:this.state.active===t._id?"active":null,className:"pq-track-container ".concat(t._id)},r.a.createElement("i",{className:"fas fa-"}),r.a.createElement("div",{className:"pq-details"},r.a.createElement("span",{className:"pq-title"},this.props.currentTrack.title),r.a.createElement("h4",{to:"/open/artist/".concat(t.artist._id)},r.a.createElement("span",{className:"pq-artist"},this.props.currentTrack.artist.name))),r.a.createElement("ul",{className:this.state.active===t._id?"pq-options-active":"pq-options"},r.a.createElement("li",null,r.a.createElement("i",{onClick:this.moveUp(t),className:"fas fa-arrow-up"})),r.a.createElement("li",null,r.a.createElement("i",{onClick:this.moveDown(t),className:"fas fa-arrow-down"})),r.a.createElement("li",{className:"pq-close",onClick:this.closeTrack(t)},r.a.createElement("i",{className:"fas fa-times"})))),r.a.createElement("h2",null,"Next Up ",this.props.nextTrack?r.a.createElement("div",{id:"pq-options-clear",onClick:this.clearTracks},"Clear All"):null),this.comingUp())):r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"pq-container"},r.a.createElement("h1",null,"Play Queue (Empty)")))}}]),a}(r.a.Component),Fe=Object(i.b)((function(e){return{currentTrack:e.queue[0],nextTrack:e.queue[1],tracks:e.queue}}),(function(e){return{removeTrack:function(t){return e(function(e){return{type:"REMOVE_TRACK",trackId:e}}(t))},moveUp:function(t){return e(function(e){return{type:"MOVE_UP",track:e}}(t))},moveDown:function(t){return e(function(e){return{type:"MOVE_DOWN",track:e}}(t))},removeAll:function(){return e({type:"REMOVE_ALL_TRACKS"})}}}))(Ye),We=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).goForward=function(){n.props.history.goForward()},n.goBackward=function(){n.props.history.goBack(),n.backCounter=n.backCounter-2},n.backCounter=0,n.state={backEnabled:!1},n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&(this.backCounter=this.backCounter+1,!this.state.backEnabled&&this.backCounter>0?this.setState({backEnabled:!0}):0===this.backCounter&&!0===this.state.backEnabled&&this.setState({backEnabled:!1}))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(r.a.Component),ze=Object(R.g)(We),He=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"open-header-container"},r.a.createElement(ze,null),r.a.createElement(T,null))}}]),a}(r.a.Component),Je=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleAdd=function(e){e.preventDefault(),n.props.openModal("choosePlaylist",n.state.songId)},n.handleToggle=function(e,t){e.preventDefault();var a=document.getElementById(t);a&&a.classList.toggle("show")},n.handleToggle=n.handleToggle.bind(Object(O.a)(n)),n.handleAdd=n.handleAdd.bind(Object(O.a)(n)),n.state={songId:n.props.song._id},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.song;return r.a.createElement("div",{className:"song"},r.a.createElement("li",null,r.a.createElement("img",{className:"song-photo",src:"../static/images/musicsymbol.png",alt:""})),r.a.createElement("li",{className:"song-item-info"},r.a.createElement("p",{className:"song-title"},t.title),r.a.createElement(c.b,{to:"/open/artist/".concat(t.artist._id),id:t.artist._id},r.a.createElement("p",{className:"song-artist"},t.artist.name))),r.a.createElement("div",{className:"play-button",onClick:function(a){return e.props.playTrack(t)}},r.a.createElement("i",{className:"fas fa-play-circle"})),r.a.createElement("div",{className:"options-song",onClick:function(a){return e.handleToggle(a,t._id)}},r.a.createElement("i",{className:"fa fa-ellipsis-h","aria-hidden":"true"}),r.a.createElement("div",{className:"options-popup"},r.a.createElement("div",{className:"optionstext",id:t._id},r.a.createElement("p",{className:"option-choice",onClick:function(t){return e.handleAdd(t)}},"Add To Playlist"),r.a.createElement("p",{className:"option-choice",onClick:function(a){return e.props.playTrack(t)}},"Play Song")))))}}]),a}(r.a.Component),Xe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={albumLiked:null},n.toggleAlbumLike=n.toggleAlbumLike.bind(Object(O.a)(n)),n.renderAlbumLike=n.renderAlbumLike.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchAlbum(this.props.match.params.id),this.props.fetchUser(this.props.currentUserId)}},{key:"renderAlbumLike",value:function(){return this.props.currentUser&&this.props.currentUser.likedAlbums.includes(this.props.match.params.id)?r.a.createElement("i",{className:"fas fa-heart"}):r.a.createElement("i",{className:"far fa-heart"})}},{key:"toggleAlbumLike",value:function(){var e={userId:this.props.currentUser._id,albumId:this.props.match.params.id};this.props.toggleAlbumLike(e),this.setState({albumLiked:this.props.currentUser.likedAlbums.includes(this.props.album._id)})}},{key:"render",value:function(){var e,t=this;if(!this.props.album[this.props.match.params.id])return null;var a=this.props.album[this.props.match.params.id],n=a.songs;return a&&(e=n.map((function(e){return r.a.createElement(Je,{key:e.id,song:e,playTrack:t.props.playTrack,addTrack:t.props.addTrack,addSongToPlaylist:t.props.addSongToPlaylist,openModal:t.props.openModal,closeModal:t.props.closeModal})}))),r.a.createElement("div",{className:"album-page"},r.a.createElement("img",{className:"album-background-photo",src:"static/images/gradient.jpg",alt:""}),r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"artist-show-header"},r.a.createElement("img",{className:"album-show-photo",src:a.imageUrl,alt:""}),r.a.createElement("div",{className:"album-header-info"},r.a.createElement("h1",{className:"album-show-title"},a.title),r.a.createElement("div",{className:"album-by"},"By ",r.a.createElement(c.b,{className:"album-artist-name",to:"/open/artist/".concat(a.artist._id),id:a.artist._id},a.artist.name)),r.a.createElement("p",{className:"album-year"},a.year,"  \u2022  ",n.length," SONGS"),r.a.createElement("div",{className:"album-show-interactive"},r.a.createElement("button",{className:"album-show-play",onClick:function(e){return t.props.playAllTracks(n)}},"PLAY"),r.a.createElement("div",{className:"like-album",onClick:this.toggleAlbumLike},this.renderAlbumLike()),r.a.createElement("p",{className:"album-options"},r.a.createElement("i",{className:"fas fa-ellipsis-h","aria-hidden":"true"}))))),r.a.createElement("div",{className:"album-show-songs"},e)))}}]),a}(r.a.Component),Qe=Object(i.b)((function(e){return{album:e.entities.albums,currentUserId:e.session.user.id,currentUser:e.entities.users[e.session.user.id]}}),(function(){return function(e){return{fetchAlbum:function(t){return e(Ie(t))},playTrack:function(t){return e(te(t))},addTrack:function(t){return e(ne(t))},playAllTracks:function(t){return e(ae(t))},openModal:function(t,a){return e(ie(t,a))},toggleAlbumLike:function(t){return e(Re(t))},fetchUser:function(t){return e(Z(t))},addSongToPlaylist:function(t,a){return e(oe(t,a))},closeModal:function(){return e({type:"CLOSE_MODAL"})}}}}))(Xe),Ze=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).showSongs=n.showSongs.bind(Object(O.a)(n)),n.playAll=n.playAll.bind(Object(O.a)(n)),n.playTrack=n.playTrack.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPlaylist(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.props.fetchPlaylist(this.props.match.params.id)}},{key:"playAll",value:function(e){e.preventDefault(),this.props.playAllTracks(this.props.playlist.songs)}},{key:"playTrack",value:function(e){var t=this;return function(a){a.stopPropagation(),t.props.playTrack(e)}}},{key:"showSongs",value:function(){var e=this;if(!this.props.playlist)return null;var t=Object.values(this.props.playlist.songs);return 0===t.length?r.a.createElement("div",{className:"ps-empty-container"},r.a.createElement("i",{className:"fas fa-play"}),r.a.createElement("h1",null,"No Songs"),r.a.createElement("h3",null,"Let's find some nice songs to relax to")):t.map((function(t,a){return r.a.createElement("div",{key:a,className:"pq-track-container"},r.a.createElement("i",{onClick:e.playTrack(t),className:"fas fa-play"}),r.a.createElement("div",{className:"pq-details"},r.a.createElement("span",{className:"pq-title"},t.title),r.a.createElement("h4",{to:"/open/artist/".concat(t.artist._id)},r.a.createElement("span",{className:"pq-artist"},t.artist.name))))}))}},{key:"render",value:function(){var e=this.props,t=e.playlist,a=e.username;if(!t)return null;var n=t.songs.length;return r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"ps-container"},r.a.createElement("div",{className:"ps-left"},r.a.createElement("img",{className:"ps-image",src:n?t.songs[0].imageUrl:"/static/images/playlist.png",alt:""}),r.a.createElement("h1",null,t.title),r.a.createElement("h2",null,a),n?r.a.createElement("button",{onClick:this.playAll,className:"album-show-play"},"PLAY"):r.a.createElement("button",{className:"playlist-show-play disabled",id:"disabled"},"PLAY")),r.a.createElement("div",{className:"ps-right"},this.showSongs())))}}]),a}(r.a.Component),$e=Object(R.g)(Object(i.b)((function(e,t){return{currentUserId:e.session.user.id,playlist:e.entities.playlist.current,username:e.session.user.username}}),(function(e){return{fetchPlaylist:function(t){return e(he(t))},playAllTracks:function(t){return e(ae(t))},playTrack:function(t){return e(te(t))}}}))(Ze)),et=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"open-player-body"},r.a.createElement(Be,null),r.a.createElement(Me,null))}}]),a}(r.a.Component),tt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUserLiked(this.props.currentUserId)}},{key:"render",value:function(){var e,t=this;if(!this.props.songs)return null;if(0===this.props.songs.length)return r.a.createElement("div",{className:"album-page"},r.a.createElement("img",{className:"album-background-photo",src:"static/images/gradient.jpg",alt:""}),r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"artist-show-header"},r.a.createElement("img",{className:"album-show-photo",src:"static/images/liked.png",alt:""}),r.a.createElement("div",{className:"album-header-info"},r.a.createElement("h1",{className:"album-show-title"},"No Liked Songs, Yet..."))),r.a.createElement("div",{className:"album-show-songs"},r.a.createElement("p",{className:"no-liked-title"},"Browse, listen and like! :)"))));var a=this.props.songs,n=(e=Object.values(a).map((function(e){return r.a.createElement(Ee,{key:e._id,song:e,addTrack:t.props.addTrack,playTrack:t.props.playTrack,addSongToPlaylist:t.props.addSongToPlaylist,openModal:t.props.openModal,closeModal:t.props.closeModal})}))).length>1?e.length+" songs":e.length+" song";return r.a.createElement("div",{className:"album-page"},r.a.createElement("img",{className:"album-background-photo",src:"static/images/gradient.jpg",alt:""}),r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"artist-show-header"},r.a.createElement("img",{className:"album-show-photo",src:"static/images/liked.png",alt:""}),r.a.createElement("div",{className:"album-header-info"},r.a.createElement("h1",{className:"album-show-title"},"Liked Songs"),r.a.createElement("p",{className:"album-show-count"},n))),r.a.createElement("div",{className:"album-show-songs"},e)))}}]),a}(r.a.Component),at=Object(i.b)((function(e){return{songs:e.entities.songs,currentUserId:e.session.user.id}}),(function(){return function(e){return{fetchSongs:function(){return e(z())},searchSongs:function(t){return e(X(t))},playTrack:function(t){return e(te(t))},addTrack:function(t){return e(ne(t))},addSongToPlaylist:function(t,a){return e(oe(t,a))},openModal:function(t,a){return e(ie(t,a))},fetchUserLiked:function(t){return e(H(t))},closeModal:function(){return e({type:"CLOSE_MODAL"})}}}}))(tt),nt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"mainview"})}}]),a}(r.a.Component),rt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchSongsByGenre(this.props.match.params.genre)}},{key:"render",value:function(){var e,t=this;if(!this.props.songs||0===this.props.songs.length)return null;var a,n=this.props.songs;return e=Object.values(n).map((function(e){return r.a.createElement(Ee,{key:e._id,song:e,addTrack:t.props.addTrack,playTrack:t.props.playTrack,addSongToPlaylist:t.props.addSongToPlaylist,openModal:t.props.openModal,closeModal:t.props.closeModal})})),"softrock"===this.props.match.params.genre?a="Soft Rock":"altrock"===this.props.match.params.genre?a="Alternative Rock":"classicrock"===this.props.match.params.genre&&(a="Classic Rock"),r.a.createElement("div",{className:"genre-page"},r.a.createElement("img",{className:"genre-background-photo",src:"static/images/gradient2.jpg",alt:""}),r.a.createElement("div",{className:"open-player-body"},r.a.createElement("div",{className:"genre-show-header"},r.a.createElement("img",{className:"genre-show-photo",src:"static/images/"+this.props.match.params.genre+".png",alt:""}),r.a.createElement("div",{className:"genre-header-info"},r.a.createElement("h1",{className:"genre-show-title"},a))),r.a.createElement("div",{className:"genre-show-songs"},e)))}}]),a}(r.a.Component),st=Object(i.b)((function(e){return{songs:e.entities.songs}}),(function(){return function(e){return{fetchSongsByGenre:function(t){return e(J(t))},playTrack:function(t){return e(te(t))},addTrack:function(t){return e(ne(t))},addSongToPlaylist:function(t,a){return e(oe(t,a))},openModal:function(t,a){return e(ie(t,a))},closeModal:function(){return e({type:"CLOSE_MODAL"})}}}}))(rt),lt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){e.props.history.replace("/open")},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"open-player"},r.a.createElement(nt,null),r.a.createElement(He,null),r.a.createElement(ve,null),r.a.createElement(re,null),r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/open",component:xe}),r.a.createElement(R.b,{path:"/open/search",component:qe}),r.a.createElement(R.b,{path:"/open/genre/:genre",component:st}),r.a.createElement(R.b,{path:"/open/queue",component:Fe}),r.a.createElement(R.b,{path:"/open/artist/:id",component:Ke,id:this.props.id}),r.a.createElement(R.b,{path:"/open/album/:id",component:Qe,id:this.props.id}),r.a.createElement(R.b,{path:"/open/playlist/:id",component:$e,id:this.props.id}),r.a.createElement(R.b,{path:"/open/library",component:et}),r.a.createElement(R.b,{path:"/open/likedsongs",component:at})))}}]),a}(r.a.Component),it=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={title:""},n.handleClick=n.handleClick.bind(Object(O.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(O.a)(n)),n.closeModal=n.props.closeModal.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"update",value:function(e){var t=this;return function(a){return t.setState(Object(M.a)({},e,a.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,user:this.props.currentUserId};this.props.createPlaylist(t),this.props.closeModal()}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.closeModal()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"create-playlist-modal"},r.a.createElement("button",{className:"btn-transparent",onClick:this.handleClick},r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Close"),r.a.createElement("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:"#fff",fill0rule:"evenodd"}))),r.a.createElement("h1",{className:"transparant-header"},"Create New Playlist"),r.a.createElement("div",{id:"create-playlist-input-container"},r.a.createElement("div",{id:"create-playlist-input-box"},r.a.createElement("div",{id:"playlist-name-spacing"},r.a.createElement("input",{className:"playlist-name-input-field",type:"text",name:"playlist-name",onChange:this.update("title"),placeholder:"New Playlist"})))),r.a.createElement("div",{id:"form-buttons-container"},r.a.createElement("div",{id:"cancel-button-container"},r.a.createElement("button",{className:"cancel-button",onClick:this.handleClick},"Cancel")),r.a.createElement("div",{id:"create-button-container"},r.a.createElement("button",{className:"create-button",onClick:function(t){return e.handleSubmit(t)}},"create"))))}}]),a}(r.a.Component),ct=Object(i.b)((function(e){return{currentUserId:e.session.user.id}}),(function(e){return{openModal:function(t){return e(ie(t))},closeModal:function(){return e({type:"CLOSE_MODAL"})},createPlaylist:function(t){return e(ue(t))}}}))(it),ot=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(O.a)(n)),n.closeModal=n.props.closeModal.bind(Object(O.a)(n)),n.addSong=n.addSong.bind(Object(O.a)(n)),n}return Object(u.a)(a,[{key:"addSong",value:function(e,t){e.preventDefault(),this.props.addSongToPlaylist(this.props.songId,t),this.props.closeModal(),this.props.fetchUserPlaylists(this.props.currentUser.id)}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.closeModal()}},{key:"render",value:function(){var e,t=this;return this.props.playlists&&(e=Object.values(this.props.playlists).map((function(e){var a=1===e.songs.length?e.songs.length+" song":e.songs.length+" songs";return r.a.createElement("div",{className:"choose-playlist",onClick:function(a){return t.addSong(a,e._id)}},r.a.createElement("img",{className:"album-photo",src:"/static/images/playlist.png",alt:"#"}),r.a.createElement("p",{className:"modal-title-choose"},e.title),r.a.createElement("p",{className:"modal-count"},a))}))),r.a.createElement("div",{className:"create-playlist-modal"},r.a.createElement("button",{className:"btn-transparent",onClick:this.handleClick},r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Close"),r.a.createElement("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:"#fff",fill0rule:"evenodd"}))),r.a.createElement("h1",{className:"transparant-header"},"Add to Playlist"),r.a.createElement("div",{id:"choose-playlist-input-container"},r.a.createElement("div",{className:"choose-playlist-name"},e)),r.a.createElement("div",{id:"form-buttons-container"},r.a.createElement("div",{id:"cancel-button-container"},r.a.createElement("button",{className:"cancel-button",onClick:this.handleClick},"Cancel")),r.a.createElement("div",{id:"create-button-container"})))}}]),a}(r.a.Component),ut=Object(i.b)((function(e){return{currentUser:e.session.user,playlists:e.entities.playlist}}),(function(e){return{openModal:function(t){return e(ie(t))},closeModal:function(){return e({type:"CLOSE_MODAL"})},addSongToPlaylist:function(t,a){return e(oe(t,a))},fetchUserPlaylists:function(t){return e(pe(t))}}}))(ot);var pt=Object(i.b)((function(e){return{modal:e.ui.modal}}),(function(e){return{closeModal:function(){return e({type:"CLOSE_MODAL"})}}}))((function(e){var t,a=e.modal,n=e.closeModal;if(!a)return null;switch(a.modal){case"createPlaylist":t=r.a.createElement(ct,null);break;case"choosePlaylist":t=r.a.createElement(ut,{songId:a.songId});break;default:return null}return r.a.createElement("div",{className:"modal-background",onClick:n},r.a.createElement("div",{className:"modal-child",onClick:function(e){return e.stopPropagation()}},t))})),mt=function(){return r.a.createElement("div",null,r.a.createElement(pt,null),r.a.createElement(R.d,null,r.a.createElement(P,{exact:!0,path:"/",component:L}),r.a.createElement(P,{exact:!0,path:"/login",component:V}),r.a.createElement(P,{exact:!0,path:"/signup",component:K}),r.a.createElement(D,{path:"/open",component:lt})))},dt=function(e){var t=e.store;return r.a.createElement(i.a,{store:t},r.a.createElement(c.a,null,r.a.createElement(mt,null)))},ht=a(13),ft=a(42),vt=a(43),Et=a.n(vt),gt=a(29),bt={isAuthenticated:!1,user:{}},yt=[],kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":return t.errors;case"RECEIVE_CURRENT_USER":return yt;default:return e}},Ot=Object(ht.c)({session:kt}),Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SONG":return Object.assign({},e,Object(M.a)({},t.song._id,t.song));case"RECEIVE_SONGS":return t.songs.data;default:return e}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_ARTIST":return t.artist.data;case"RECEIVE_ARTISTS":return t.artists.data;default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_ALBUM":return Object.assign({},e,Object(M.a)({},t.album.data._id,t.album.data));case"RECEIVE_ALBUMS":return t.albums.data;default:return e}},St=a(21),Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),Object.freeze(e),t.type){case"RECEIVE_PLAYLIST":return Object.assign({},e,Object(M.a)({},t.playlist.data.playlist._id,t.playlist.data.playlist));case"RECEIVE_USER_PLAYLISTS":return t.playlists.data;case"SHOW_PLAYLIST":return Object.assign({},e,{current:t.playlist.data});case"RENAME_PLAYLIST;":var a=Object.assign({},e);return a[t.playlist.data._id]=t.playlist.data,a;case"DELETE_PLAYLIST":var n=Object.assign({},e);return delete n[t.playlist._id],n;default:return e}},wt=Object(ht.c)({playlist:Ct,songs:Nt,artists:jt,albums:Tt,users:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"RECEIVE_USER":var r={};return r[n.user.data._id]=n.user.data,delete r[n.user.data._id].password,Object(St.merge)({},r,a);case"TOGGLE_SONG_LIKE":if(t=n.likeData.data.userId,(e=Object(St.merge)({},a))[t].likedSongs.includes(n.likeData.data.songId)){var s=e[t].likedSongs.indexOf(n.likeData.data.songId);e[t].likedSongs.splice(s,1)}else e[t].likedSongs.push(n.likeData.data.songId);return e;case"TOGGLE_ALBUM_LIKE":if(e=Object(St.merge)({},a),t=n.likeData.data.userId,e[t].likedAlbums.includes(n.likeData.data.albumId)){var l=e[t].likedAlbums.indexOf(n.likeData.data.albumId);e[t].likedAlbums.splice(l,1)}else e[t].likedAlbums.push(n.likeData.data.albumId);return e;case"CHANGE_MULTIPLE_SONG_LIKES":return e=Object(St.merge)({},a),n.likeData.data.songs.every((function(t){return e.currentUser.likedSongs.includes(t)}))?n.likeData.data.songs.forEach((function(t){var a=e.currentUser.likedSongs.indexOf(t);e.currentUser.likedSongs.splice(a,1)})):n.likeData.data.songs.forEach((function(t){e.currentUser.likedSongs.includes(t)||e.currentUser.likedSongs.push(t)})),e;default:return a}}}),_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{volume:.5},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_VOLUME":return Object.assign({},e,{volume:t.volume});default:return e}},It=a(44),Lt=function(e,t){for(var a,n;e[0]===t;)for(var r=0;r<e.length;r++)n=Math.floor(Math.random()*(r+1)),a=e[r],e[r]=e[n],e[n]=a;return e},At=function(e,t){var a=e.indexOf(t);return 0!==a?(e[a]=e[a-1],e[a-1]=t,e):e},Rt=function(e,t){var a=e.indexOf(t);return a!==e.length-1?(e[a]=e[a+1],e[a+1]=t,e):e},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var a=Object(It.a)(e);switch(t.type){case"PLAY_TRACK":return[t.track];case"PLAY_ALL_TRACKS":return t.tracks;case"ADD_TRACK":return a.push(t.track),a;case"REMOVE_TRACK":return a.filter((function(e){return e._id!==t.trackId}));case"REMOVE_ALL_TRACKS":return[a[0]];case"NEXT_TRACK":return a.push(a.shift()),a;case"PREV_TRACK":return a.unshift(a.pop()),a;case"SHUFFLE_TRACKS":return Lt(a,e[0]);case"MOVE_UP":return At(a,t.track);case"MOVE_DOWN":return Rt(a,t.track);case"REMOVE_EVERYTHING":return[];default:return e}};var Pt=Object(ht.c)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return t.data;case"CLOSE_MODAL":return null;default:return e}}}),Dt=Object(ht.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_CURRENT_USER":return Object(gt.a)({},e,{isAuthenticated:!!t.currentUser,user:t.currentUser});case"RECEIVE_USER_LOGOUT":return{isAuthenticated:!1,user:void 0};case"RECEIVE_USER_SIGN_IN":return Object(gt.a)({},e,{isSignedIn:!0});default:return e}},errors:Ot,player:_t,entities:wt,queue:Ut,ui:Pt}),Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ht.d)(Dt,e,Object(ht.a)(ft.a,Et.a))};document.addEventListener("DOMContentLoaded",(function(){var e,t=document.getElementById("root");if(localStorage.jwtToken){f(localStorage.jwtToken);var a=E()(localStorage.jwtToken);e=Mt({session:{isAuthenticated:!0,user:a}});var n=Date.now()/1e3;a.exp<n&&(e.dispatch(k()),window.location.href="/#/login")}else e=Mt();window.getState=e.getState,window.store=e,l.a.render(r.a.createElement(dt,{store:e}),t)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.90bab051.chunk.js.map