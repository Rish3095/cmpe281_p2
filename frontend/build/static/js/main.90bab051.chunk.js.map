{"version":3,"sources":["assets/images/white-logo-black-music.png","assets/images/white-logo-blue-music.png","util/session_api_util.js","actions/session_actions.js","components/greeting/greeting.js","components/greeting/greeting_container.js","components/header/header.js","components/footer/footer.js","components/splash/splash.js","util/route_util.js","components/session/login_form.js","components/session/login_form_container.js","components/session/signup_form.js","components/session/signup_form_container.js","components/player/player_info.js","actions/song_actions.js","util/song_util.js","actions/user_actions.js","util/user_util.js","components/player/player_info_container.js","components/player/player.js","actions/player_queue_actions.js","components/player/player_container.js","actions/player_actions.js","components/sidebar/navbar/navbar.js","components/sidebar/playlist/playlist.js","actions/modal_actions.js","actions/playlist_actions.js","util/playlist_util.js","components/sidebar/playlist/playlist_container.js","components/sidebar/sidebar.js","components/index/song_index_item.js","components/index/songs.js","components/index/songs_container.js","components/index/artist_index_item.js","components/index/artist_index.js","actions/artist_actions.js","util/artist_util.js","components/index/artist_container.js","components/index/album_index_item.js","components/index/album_index.js","actions/album_actions.js","util/album_util.js","components/index/album_container.js","components/index/playlist_index_item.js","components/index/playlist_index.js","components/index/playlist_index_container.js","components/index/liked_index.js","components/open/suggested.js","components/index/search.js","components/index/search_container.js","components/show/artist_show.js","components/show/artist_show_container.js","components/player/player_queue.js","components/player/player_queue_container.js","components/open/navigation_arrows.js","components/open/open_header.js","components/index/album_song_index_item.js","components/show/album_show.js","components/show/album_show_container.js","components/show/playlist_show.js","components/show/playlist_show_container.js","components/index/library.js","components/index/liked_songs.js","components/index/liked_container.js","components/open/mainview.js","components/show/genre_show.js","components/show/genre_show_container.js","components/open/open_player.js","components/sidebar/playlist/create_playlist.js","components/sidebar/playlist/create_playlist_container.js","components/sidebar/playlist/choose_playlist.js","components/sidebar/playlist/choose_playlist_container.js","components/sidebar/playlist/modal.js","components/app.js","components/root.js","reducers/session_reducer.js","reducers/session_errors_reducer.js","reducers/errors_reducer.js","reducers/songs_reducer.js","reducers/artists_reducer.js","reducers/albums_reducer.js","reducers/playlist_reducer.js","reducers/entities_reducer.js","reducers/users_reducer.js","reducers/player_reducer.js","reducers/player_queue_reducer.js","reducers/ui_reducer.js","reducers/modalReducer.js","reducers/root_reducer.js","store/store.js","index.js"],"names":["module","exports","setAuthToken","token","axios","defaults","headers","common","receiveErrors","errors","type","signup","user","dispatch","userData","post","then","err","response","data","login","res","localStorage","setItem","APIUtil","decoded","jwt_decode","currentUser","catch","logout","removeItem","Greeting","props","logoutUser","bind","getLinks","e","preventDefault","this","loggedIn","className","username","onClick","to","React","Component","connect","state","session","isAuthenticated","Header","id","class","bis_skin_checked","style","color","padding","href","target","Splash","mapStateToProps","AuthRoute","withRouter","component","path","exact","render","ProtectedRoute","rest","LoginForm","email","password","handleSubmit","demoLogin","changeBorder","nextProps","history","push","setState","field","currentTarget","value","resetClasses","element","document","getElementById","error","classList","remove","values","contains","add","errorId","typeWriter","i","j","emailInput","pwInput","length","charAt","setTimeout","display","fontSize","fontWeight","renderMismatchError","onSubmit","onChange","update","placeholder","onFocus","onBlur","changeBorderonBlur","renderSignUp","SignupForm","email2","password2","birthdate","error_touched","error_exists","clearedErrors","signedIn","resetErrorDisplay","touchField","toUpperCase","substring","includes","handleOnFocus","renderInputField","renderError","isSignedIn","PlayerInfo","toggleLike","renderLike","fetchUser","currentUserId","likeData","songId","currentTrack","_id","userId","likedSongs","msg","nextTrack","shuffle","title","artist","name","src","imageUrl","alt","receiveSongs","songs","fetchSongs","get","fetchUserLiked","SongApiUtil","fetchSongsByGenre","genre","searchSongs","search","patch","changeLike","receiveUser","queue","tracks","entities","users","Player","play","time","duration","mute","repeat","audio","createRef","handleonPlay","pause","updateTime","parseTime","updateVolume","volumeBtn","toggleMute","toggleRepeat","prevTrack","toggleShuffle","handleEnded","prevProps","volume","clearInterval","interval","undefined","removeEverything","setInterval","currentTime","shuffleTracks","changeVolume","loop","prevVolume","min","Math","floor","seconds","button","playBtn","pauseBtn","shuffling","active","songUrl","ref","onPlay","onEnded","autoPlay","max","backgroundImage","playTrack","track","playAllTracks","addTrack","player","receiveVolume","SideBarNav","Playlist","renderPlaylists","closeOptions","renderOptions","renamePlaylist","handleKeyDown","deletePlaylist","toggleRenamePopUp","showDropDown","showRename","mouseCoordsleft","mouseCoordsTop","renameCoordsLeft","renameCoordsTop","currentTargetPlaylistId","handleClick","fetchUserPlaylists","addEventListener","removeEventListener","domNode","ReactDOM","findDOMNode","key","playlistId","dataset","playlistid","targetedPlaylistContainer","mouseCoordsLeft","clientX","clientY","currentTargetRect","getBoundingClientRect","e_offsetX","x","e_offsetY","y","setFocus","removePlaylist","focus","playlists","Object","assign","onContextMenu","left","top","map","playlist","data-playlistid","onKeyDown","openModal","modal","receivePlaylist","addSongToPlaylist","PlaylistUtil","createPlaylist","receivePlaylists","playlistData","delete","returnRename","fetchPlaylist","showPlaylist","closeModal","SideBar","SongIndexItem","handleAdd","handleToggle","songOptions","toggle","song","aria-hidden","SongsIndex","liSongs","SongIndex","ArtistIndexItem","playSongs","ArtistsIndex","searchArtists","liArtists","artists","receiveArtists","fetchArtist","ArtistApiUtil","receiveArtist","fetchArtists","ArtistIndex","AlbumIndexItem","album","AlbumsIndex","searchAlbums","liAlbums","albums","receiveAlbums","fetchAlbum","AlbumApiUtil","receiveAlbum","fetchAlbums","toggleAlbumLike","albumId","AlbumIndex","PlaylistIndexItem","count","PlaylistIndex","divClass","liPlaylists","location","pathname","LikedIndex","Suggested","Search","getResults","ArtistShow","match","params","PlayerQueue","comingUp","closeTrack","moveUp","moveDown","clearTracks","nextUp","slice","stopPropagation","removeTrack","removeAll","trackId","NavigationArrows","goForward","goBackward","goBack","backCounter","backEnabled","OpenHeader","AlbumSongIndexItem","AlbumShow","albumLiked","renderAlbumLike","likedAlbums","year","PlaylistShow","showSongs","playAll","hasSong","ownProps","current","Library","LikedSongs","Mainview","GenreShow","Open","componentDidMount","replace","PlayerQueueContainer","CreatePlaylist","width","height","viewBox","xmlns","d","fill","fill0rule","CreatePlaylistForm","ChoosePlaylist","addSong","ui","App","LoginFormContainer","SignupFormContainer","OpenPlayer","Root","store","initialState","_nullErrors","SessionErrorsReducer","action","freeze","combineReducers","songsReducer","oldState","artistsReducer","albumsReducer","playlistReducer","console","log","nextState","newState","entitiesReducer","merge","index","indexOf","splice","albumIdx","every","forEach","songIdx","playerReducer","shuffleArray","arr","first","temp","newPos","random","idx","playerQueueReducer","filter","shift","unshift","pop","uiReducer","RootReducer","configureStore","preloadedState","createStore","rootReducer","applyMiddleware","thunk","logger","root","jwtToken","decodedUser","Date","now","exp","window","getState"],"mappings":"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","file":"static/js/main.90bab051.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/white-logo-black-music.c4146bc3.png\";","module.exports = __webpack_public_path__ + \"static/media/white-logo-blue-music.c4146bc3.png\";","import axios from \"axios\";\n\n//setAuthToken sets or deletes the common header dependent on whether the token is passed into the method.\nexport const setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport const signup = userData => {\n  return axios.post(\"/api/users/register\", userData);\n};\n\nexport const login = userData => {\n  return axios.post(\"/api/users/login\", userData);\n};\n\n//back to session reducer to complete setting up the redux cycle\n","// src/actions/session_actions.js\n\nimport * as APIUtil from \"../util/session_api_util\";\nimport jwt_decode from \"jwt-decode\";\n\nexport const RECEIVE_CURRENT_USER = \"RECEIVE_CURRENT_USER\";\nexport const RECEIVE_SESSION_ERRORS = \"RECEIVE_SESSION_ERRORS\";\nexport const RECEIVE_USER_LOGOUT = \"RECEIVE_USER_LOGOUT\";\nexport const RECEIVE_USER_SIGN_IN = \"RECEIVE_USER_SIGN_IN\";\n\n// We'll dispatch this when our user signs in\nexport const receiveCurrentUser = currentUser => ({\n  type: RECEIVE_CURRENT_USER,\n  currentUser\n});\n\n// This will be used to redirect the user to the login page upon signup\nexport const receiveUserSignIn = () => ({\n  type: RECEIVE_USER_SIGN_IN\n});\n\n// We dispatch this one to show authentication errors on the frontend\nexport const receiveErrors = errors => ({\n  type: RECEIVE_SESSION_ERRORS,\n  errors\n});\n\n// When our user is logged out, we will dispatch this action to set isAuthenticated to false\nexport const logoutUser = () => ({\n  type: RECEIVE_USER_LOGOUT\n});\n\n// Upon signup, dispatch the approporiate action depending on which type of response we receieve from the backend\nexport const signup = user => dispatch =>\n  APIUtil.signup(user).then(\n    () => dispatch(receiveUserSignIn()),\n    err => dispatch(receiveErrors(err.response.data))\n  );\n\n// Upon login, set the session token and dispatch the current user. Dispatch errors on failure.\n//review of this on React 5 video\nexport const login = user => dispatch =>\n  APIUtil.login(user)\n    .then(res => {\n      const { token } = res.data;\n      //allows you to save token on the client side so user can use the same token upon refresh\n      localStorage.setItem(\"jwtToken\", token);\n      APIUtil.setAuthToken(token);\n      const decoded = jwt_decode(token);\n      dispatch(receiveCurrentUser(decoded));\n    })\n    .catch(err => {\n      dispatch(receiveErrors(err.response.data));\n    });\n\n// We wrote this one earlier\nexport const logout = () => dispatch => {\n  localStorage.removeItem(\"jwtToken\");\n  APIUtil.setAuthToken(false);\n  dispatch(logoutUser());\n};\n\n//to root reducer\n\n//or\n\n//session_api_util.js to create actual request\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n// import { browserHistory } from \"react-router\";\nclass Greeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.logoutUser = this.logoutUser.bind(this);\n    this.getLinks = this.getLinks.bind(this);\n  }\n\n  logoutUser(e) {\n    e.preventDefault();\n    this.props.logout();\n  }\n\n  getLinks() {\n    if (this.props.loggedIn) {\n      return (\n        <div className=\"greeting-container\">\n          <h2 className=\"header-name\">\n            Hello, {this.props.currentUser.username}\n          </h2>\n          <Link className=\"nav-link\" onClick={this.logoutUser} to=\"\">\n\n            Logout\n          </Link>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <Link className=\"nav-link\" to={\"/signup\"}>\n            Signup\n          </Link>\n          <Link className=\"nav-link\" to={\"/login\"}>\n            Login\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return <div className=\"navbar-container\">{this.getLinks()}</div>;\n  }\n}\n\nexport default Greeting;\n","//will use isAuthenticated boolean in our state to determine which set of links to render (thus the need for map state to props)\n\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/session_actions\";\n\nimport Greeting from \"./greeting\";\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.session.user,\n    loggedIn: state.session.isAuthenticated\n  };\n};\n\n\nexport default connect(mapStateToProps, { logout })(Greeting);\n","import React from \"react\";\nimport logo from \"../../assets/images/white-logo-black-music.png\";\nimport Greeting from \"../greeting/greeting_container\";\nclass Header extends React.Component {\n  render() {\n    return (\n      <div id=\"header-container\">\n      <div id=\"splash-logo\" class=\"sidebar-Rock-N-Roll\" bis_skin_checked=\"1\" style={ {\n      color:'white',\n        padding:'24px 0 25px 25 px'\n      }} >Rock-N-Roll</div>\n        <Greeting />\n      </div >\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\nimport logo from \"../../assets/images/white-logo-blue-music.png\";\nclass Header extends React.Component {\n  render() {\n    return (\n      <div id=\"container\">\n         <div className=\"inner-container\">\n            <div className=\"footer-links\">\n              <h3>Poojan Shah</h3>\n              <div className=\"github-img\">\n                <i className=\"fab fa-github\"></i>\n                <a href=\"https://github.com/poojan4ps\" target=\"_blank\"> Github</a>\n              </div>\n              <div className=\"linkedin-img\">\n                <i className=\"fab fa-linkedin\"></i>\n                <a href=\"https://www.linkedin.com/in/poojan-shah-2aa8b5136/\"> LinkedIn</a>\n              </div>\n            </div>\n            \n            <div className=\"footer-links\">\n              <h3>Rutvik Moradiya </h3>\n              <div className=\"github-img\">\n                <i className=\"fab fa-github\"></i>\n                <a href=\"https://github.com/rutvik-moradiya\" target=\"_blank\"> Github</a>\n              </div>\n              <div className=\"linkedin-img\">\n                <i className=\"fab fa-linkedin\"></i>\n                <a href=\"https://www.linkedin.com/in/rutvik-moradiya-a6989312a/\"> LinkedIn</a>\n              </div>\n            </div>\n            <div className=\"footer-links\">\n              <h3>Rishabh Gupta</h3>\n              <div className=\"github-img\">\n                <i className=\"fab fa-github\"></i>\n                <a href=\"https://github.com/Rishabh3095\" target=\"_blank\"> Github</a>\n              </div>\n              <div className=\"linkedin-img\">\n                <i className=\"fab fa-linkedin\"></i>\n                <a href=\"https://www.linkedin.com/in/rishabhgupta95/\"> LinkedIn</a>\n              </div>\n            </div>\n            <div className=\"footer-links\">\n              <h3>Jack Kalavadia</h3>\n              <div className=\"github-img\">\n                <i className=\"fab fa-github\"></i>\n                <a href=\"https://github.com/jackkalavadia\" target=\"_blank\"> Github</a>\n              </div>\n              <div className=\"linkedin-img\">\n                <i className=\"fab fa-linkedin\"></i>\n                <a href=\"https://www.linkedin.com/\"> LinkedIn</a>\n              </div>\n            </div>\n          </div>\n        {/* <nav id=\"footer-nav\">\n          <div>\n            <img className=\"white-logo\" src={logo} alt=\"logo\" />\n          </div>\n          <div id=\"footer-nav-links\">\n            <ul>\n              <h4>Sam <br></br>Gutierrez</h4>\n              <li><a href=\"https://www.samgutierrez.com\" ><i className=\"social-icon fas fa-portrait\"></i></a>Portfolio</li>\n              <li><a href=\"https://github.com/SammyGutierrez335\" ><i className=\"social-icon fab fa-github\"></i></a>GitHub</li>\n              <li><a href=\"https://www.linkedin.com/in/sammy-gutierrez/\" ><i className=\"social-icon fab fa-linkedin\"></i></a>LinkedIn</li>\n              <li><a href=\"https://angel.co/u/sammy-gutierrez/\" ><i className=\"social-icon fab fa-angellist\"></i></a>AngelList</li>\n              <li><a href=\"mailto:sammygutierrez335@gmail.com\" ><i className=\"social-icon fas fa-envelope-square\"></i></a>Email</li>\n            </ul>\n            <ul>\n              <h4>Kevin <br></br>Lu</h4>\n              <li><a href=\"\" ><i className=\"social-icon fas fa-portrait\"></i></a>Portfolio</li>\n            <li><a href=\"\" ><i className=\"social-icon fab fa-github\"></i></a>GitHub</li>\n              <li><a href=\"https://www.linkedin.com/in/kevin-lu-96b294191/\" ><i className=\"social-icon fab fa-linkedin\"></i></a>LinkedIn</li>\n              <li><a href=\"\" ><i className=\"social-icon fab fa-angellist\"></i></a>AngelList</li>\n              <li><a href=\"mailto:[emailgoeshere]\" ><i className=\"social-icon fas fa-envelope-square\"></i></a>Email</li>\n              </ul>\n            <ul>\n            <h4>Tristan<br></br>Mockler</h4>\n              <li><a href=\"\" ><i className=\"social-icon fas fa-portrait\"></i></a>Portfolio</li>\n              <li><a href=\"\" ><i className=\"social-icon fab fa-github\"></i></a>GitHub</li>\n              <li><a href=\"https://www.linkedin.com/in/tristan-mockler-bb2360173/\" ><i className=\"social-icon fab fa-linkedin\"></i></a>LinkedIn</li>\n              <li><a href=\"\" ><i className=\"social-icon fab fa-angellist\"></i></a>AngelList</li>\n              <li><a href=\"mailto:[emailgoeshere]\" ><i className=\"social-icon fas fa-envelope-square\"></i></a>Email</li>\n            </ul>\n            <ul>\n              <h4>Don <br></br>Sondapperumaarachchi</h4>\n              <li><a href=\"https://www.donsondapperumaarachchi.com\" style={{color: 'white'}}><i className=\"social-icon fas fa-portrait\"></i>Portfolio</a></li>\n              <li><a href=\"https://github.com/kewlfeet\" style={{color: 'white'}}><i className=\"social-icon fab fa-github\"></i>GitHub</a></li>\n              <li><a href=\"https://www.linkedin.com/in/don-ayesh-sondapperumaarachchi-827894146/\" style={{color: 'white'}}><i className=\"social-icon fab fa-linkedin\"></i>LinkedIn</a></li>\n              <li><a href=\"https://angel.co/u/don-sondapperumaarachchi\" style={{color: 'white'}}><i className=\"social-icon fab fa-angellist\"></i>AngelList</a></li>\n              <li><a href=\"mailto:ayesh98@gmail.com\" style={{color: 'white'}}><i className=\"social-icon fas fa-envelope-square\"></i>Email</a></li>\n            </ul>\n          </div>\n          <div id=\"bottom-links\">\n            <span></span>\n            <span>2020 Sleepify</span>\n          </div>\n        </nav> */}\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../header/header\";\nimport Footer from \"../footer/footer\";\nclass Splash extends React.Component {\n  render() {\n    return (\n      <div id=\"app-container\">\n        <Header />\n        <div id=\"colorsplash\">\n          <div id=\"splash-container\">\n            <h1>BIG CHILL</h1>\n            <h4>SONGS AT EVERY STEPS. No credit card Needed</h4>\n            <Link to=\"/open\" className=\"launch-web-player-bttn\">\n              Get Started Now\n            </Link>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default Splash;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\n//We'll use our custom Protected component to ensure users can only access certain information if they are logged in.\n//If the user visits a login or signup page, the Auth component will redirect them to tweets page if they are already logged in.\n\n// Passed in from parent component or from mapStateToProps\nconst Auth = ({ component: Component, path, loggedIn, exact }) => (\n  <Route\n    path={path}\n    exact={exact}\n    render={props =>\n      !loggedIn ? (\n        <Component {...props} />\n      ) : (\n        // Redirect to the home page if the user is authenticated\n        <Redirect to=\"/open\" />  //---------------------------------------------has not been created yet\n      )\n    }\n  />\n);\n\nconst Protected = ({ component: Component, loggedIn, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      loggedIn ? (\n        <Component {...props} />\n      ) : (\n        // Redirect to the login page if the user is already authenticated\n        <Redirect to=\"/login\" />\n      )\n    }\n  />\n);\n\n// Use the isAuthenitcated slice of state to determine whether a user is logged in\n\nconst mapStateToProps = state => ({ loggedIn: state.session.isAuthenticated });\n\nexport const AuthRoute = withRouter(connect(mapStateToProps)(Auth));\n\nexport const ProtectedRoute = withRouter(connect(mapStateToProps)(Protected));\n","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.demoLogin = this.demoLogin.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.changeBorder();\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser === true) {\n      this.props.history.push('/');\n    }\n\n    this.setState({errors: nextProps.errors})\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.resetClasses();\n\n    let user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props.login(user); \n  }\n\n  renderSignUp() {\n    return (\n      <div className='render-signup'>\n        <span>\n          Don't have an account?\n        </span>\n        <div>\n          <Link to='/signup' >SIGN UP</Link>\n        </div>\n      </div>\n    )\n  }\n\n  resetClasses() {\n    let element = document.getElementById('email');\n    let error = document.getElementById('email-error')\n    if(element) {\n      element.classList.remove(\"has-error\")\n      error.classList.remove(\"hidden\")\n    }\n    element = document.getElementById('password');\n    error = document.getElementById('password-error')\n    if (element) {\n      element.classList.remove(\"has-error\")\n      error.classList.remove(\"hidden\")\n    }\n  }\n\n\n  changeBorder(values = \"all\") {\n    if(values === \"all\") {\n      //change border of both input values\n      let element = document.getElementById('email');\n      let error = document.getElementById('email-error')\n      if(element) {\n        if (!error.classList.contains(\"hidden\") && (!this.state.errors.login)){\n          element.classList.add(\"has-error\")\n        }\n      }\n      //change border of password input box\n      element = document.getElementById('password');\n      error = document.getElementById('password-error')\n      if (element) {\n        if (!error.classList.contains(\"hidden\") && (!this.state.errors.login)){\n          element.classList.add(\"has-error\")\n        }\n      }\n    } else {\n      //change border of email input box\n      let element = document.getElementById(values);\n      const errorId = values + \"-error\"\n      let error = document.getElementById(errorId)\n      if(element && error) {\n        element.classList.remove(\"has-error\")\n        error.classList.add(\"hidden\")\n      }\n    }\n  }\n\n  //change border if something is in the input box\n  changeBorderonBlur(value) {\n    let element = document.getElementById(value);\n    if(element && !this.state[value]) {\n      const errorId = value + \"-error\"\n      let error = document.getElementById(errorId)\n      error.classList.remove(\"hidden\")\n      element.classList.add(\"has-error\")\n    } else if (element && this.state[value]){\n      const errorId = value + \"-error\"\n      let error = document.getElementById(errorId)\n      error.classList.add(\"hidden\")\n      element.classList.remove(\"has-error\")\n    }\n  }\n  \n  renderMismatchError() {\n    if(this.state.errors.login) {\n      return (\n        <div className='login-form-error'>\n          {this.state.errors.login}\n        </div>\n      )\n    } else {\n      return (null)\n    }\n  }\n\n  demoLogin(e) {\n    e.preventDefault();\n    return this.typeWriter('demouser@demouser.com', 'demouser');\n  }       \n\n  typeWriter(email, password) {\n      let i = 0;\n      let j = 0;\n      let speed = 50; \n      let emailInput = document.getElementById(\"email\")\n      let pwInput = document.getElementById(\"password\");\n      emailInput.value = \"\";\n      pwInput.value = \"\";\n      const login = () => {\n          if (i < email.length) {\n              emailInput.value += email.charAt(i);\n              i++;\n              setTimeout(login, speed);\n          } else if (j < password.length) {\n              pwInput.value += password.charAt(j);\n              j++;\n              setTimeout(login, speed)\n          } else {\n              this.setState({email: email, password: password});\n              this.resetClasses();\n              this.props.login(this.state);\n          }\n\n      }\n      return login()\n  }\n\n  // demoLogin(e) {\n  //   e.preventDefault();\n    \n  //   let user = {\n  //     email: \"demouser@demouser.com\",\n  //     password: \"demouser\"\n  //   }\n  //   this.setState(user, () => this.props.login(user));\n\n  //   // this.props.login(user);\n    \n  // }\n\n  render() {\n    this.changeBorder();\n    return (\n      <div className='login-form-container'>\n        <div className='heading' style={{\n            display: 'inline-block',\n            padding:'30px',\n            fontSize: '36px',\n            fontWeight: '900',\n       }}>\n         Rock-N-Roll\n        </div>\n        <div className='login-form-error-container'>\n          {this.renderMismatchError()}\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <div className='login-form'>\n            <br/>\n              <div className='email-input'>\n                <input id=\"email\"\n                  className=\"form-email login\"\n                  type=\"text\"\n                  value={this.state.email}\n                  onChange={this.update('email')}\n                  placeholder=\"Email address or username\"\n                  onFocus={() => this.changeBorder('email')}\n                  onBlur={()=>this.changeBorderonBlur('email')}\n                />\n                <div id=\"email-error\" className='login error-div'>\n                  {this.state.errors.email}\n                </div>\n              </div>\n            <br/>\n              <div className='password-input'>\n                <input id=\"password\" \n                  className=\"form-password login\"\n                  type=\"password\"\n                  value={this.state.password}\n                  onChange={this.update('password')}\n                  placeholder=\"Password\"\n                  onFocus={() => this.changeBorder('password')}\n                  onBlur={()=>this.changeBorderonBlur('password')}\n                />\n                <div id=\"password-error\" className='login error-div'>\n                  {this.state.errors.password}\n                </div>\n              </div>\n            <br/>\n            <div className='submit-button'>\n              <input type=\"submit\" value=\"LOG IN\" />\n            </div>\n          </div>\n        </form>\n        {this.renderSignUp()}\n\n      </div>\n    );\n  }\n}\n\nexport default withRouter(LoginForm);","import { connect } from \"react-redux\";\nimport LoginForm from \"./login_form\"\nimport {login} from \"../../actions/session_actions\"\n\n\nconst mapStateToProps = (state) => {\n    return ({\n        errors: state.errors.session\n    });\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return ({\n        login: (user) => dispatch(login(user))\n    });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);","import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      email2: '',\n      username: '',\n      password: '',\n      password2: '',\n      birthdate: '',\n      errors: {},\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      },\n      error_exists: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      }\n\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearedErrors = false;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.history.push('/login');\n    }\n\n    this.setState({errors: nextProps.errors})\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value, \n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email2: this.state.email2,\n      email: this.state.email,\n      username: this.state.username,\n      password: this.state.password,\n      password2: this.state.password2,\n      birthdate: this.state.birthdate,\n    };\n    this.resetErrorDisplay();\n    this.props.signup(user, this.props.history)\n  }\n\n  resetErrorDisplay() {\n    this.setState({\n      error_touched: {\n        email: false,\n        email2: false,\n        password: false,\n        password2: false,\n        username: false,\n        birthdate: false,\n      },\n    })\n  }\n\n  handleOnFocus(field) {\n    const touchField = this.state.error_touched;\n    touchField[field] = true;\n    return () => this.setState({\n      touchField\n    })\n  }\n\n  renderError(field) {\n    if (!this.state.error_touched[field]) {\n      return (\n        <div id={`${field}-error`} className='signup error-div'>\n          {this.state.errors[field]}\n        </div>\n      )\n    }\n  }\n  \n  renderInputField(field) {\n    let placeholder = field.charAt(0).toUpperCase() + field.substring(1);\n    if(field.includes('2')) {\n      placeholder = placeholder.substring(0, placeholder.length - 1) + ' Confirm'\n    }\n    let type;\n    if ((field.includes('email') || field === 'username')) {\n      type = 'text'\n    } else if (field.includes('password')) {\n      type = 'password'\n    } else {\n      type = 'Date'\n    }\n    if (!this.state.error_touched[field] && this.state.errors[field]) {\n      return (\n          <input id={field} \n            type={type}\n            className=\"signup-border has-error\"\n            value={this.state[field]}\n            onChange={this.update(field)}\n            placeholder={placeholder}\n            onFocus={() => this.handleOnFocus(field)}/>\n      )\n    } else {\n      return (\n          <input id={field}\n            type={type}\n            className=\"signup-border\"\n            value={this.state[field]}\n            onChange={this.update(field)}\n            placeholder={placeholder}\n            onFocus={() => this.handleOnFocus(field)}/>\n      )\n    }\n  }\n  render() {\n    return (\n      <div className=\"signup-form-container\">\n       <div className='heading' style={{\n            display: 'inline-block',\n            padding:'30px',\n            fontSize: '36px',\n            fontWeight: '900',\n       }}>\n         Rock-N-Roll\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"signup-form\">\n            <br/>\n              <div className=\"signup-input email\">\n                {this.renderInputField('email')}\n                {this.renderError('email')}\n              </div>\n            <br/>\n              <div className=\"signup-input email2\">\n                {this.renderInputField('email2')}\n                {this.renderError('email2')}\n              </div>\n            <br/>\n              <div className=\"signup-input password\">\n                {this.renderInputField('password')}\n                {this.renderError('password')}\n              </div>\n            <br/>\n              <div className=\"signup-input password2\">\n                {this.renderInputField('password2')}\n                {this.renderError('password2')}\n              </div>\n            <br/>\n              <div className=\"signup-input username\">\n                {this.renderInputField('username')}\n                {this.renderError('username')}\n              </div>\n            <br/>\n              <div className=\"signup-input birthdate\">\n                <label>\n                  Date of Birth\n                  <div className=\"birthdate\">\n                    {this.renderInputField('birthdate')}\n                    {this.renderError('birthdate')}\n                  </div>\n                </label>\n              </div>\n            <br/>\n            <div className=\"signup-button\">\n              <input type=\"submit\" value=\"SIGN UP\" />\n            </div>\n            {/* <div className=\"login-instead\">\n              <label>\n                Already have an account? \n                <Link to='/login'> Log in </Link>\n              </label>\n            </div> */}\n\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);","import { connect } from 'react-redux';\nimport { signup } from '../../actions/session_actions';\nimport SignupForm from './signup_form';\n\nconst mapStateToProps = (state) => {\n  return {\n    signedIn: state.session.isSignedIn,\n    errors: state.errors.session\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signup: user => dispatch(signup(user))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignupForm);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass PlayerInfo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.toggleLike = this.toggleLike.bind(this);\n        this.renderLike = this.renderLike.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.fetchUser(this.props.currentUserId);\n    }\n\n    toggleLike() {\n        const likeData = {\n            songId: this.props.currentTrack._id,\n            userId: this.props.currentUserId,\n        }\n        this.props.toggleLike(likeData)\n    }\n\n    renderLike() {\n        if (this.props.currentUser && this.props.currentUser.likedSongs.includes(this.props.currentTrack._id)) {\n            return (\n                <i className=\"fas fa-heart\"></i>\n            )\n        } else {\n            return (\n                <i className=\"far fa-heart\"></i>\n            )\n        }\n    }\n\n    render() {\n        \n        const { currentTrack, nextTrack } = this.props\n        if (!currentTrack) return <div className=\"pi-container\"></div>;\n        let msg;\n        \n        if (this.props.shuffle) {\n            msg = \"Currently shuffling... \\\\_()_/\"\n        } else if (!nextTrack) {\n            msg = null;\n        } else {\n            msg = `Coming up next: ${nextTrack.title} By ${nextTrack.artist.name}`;\n        }\n        \n        return (\n            <div className=\"pi-container\">\n                <img className=\"pi-image\" src={currentTrack.imageUrl} alt=\"\"/>\n                <div className=\"pi-details\">\n                    <Link to={`/open/artist/${currentTrack.artist._id}`}>\n                        <div className=\"pi-details-title\">\n                            { currentTrack.title }\n                        </div>\n                    </Link>\n                    <Link to={`/open/artist/${currentTrack.artist._id}`}>\n                        <div className=\"pi-details-artist\">\n                            {currentTrack.artist.name}\n                        </div>\n                    </Link>\n                    {nextTrack ? <div className=\"pi-details-next\">{msg}</div> : null }\n                </div>\n                <div onClick={this.toggleLike}>\n                    {this.renderLike()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PlayerInfo;","import * as SongApiUtil from \"../util/song_util\";\nexport const RECEIVE_SONG = \"RECEIVE_SONG\";\nexport const RECEIVE_SONGS = \"RECEIVE_SONGS\";\n\nexport const TOGGLE_SONG_LIKE = \"TOGGLE_SONG_LIKE\";\nexport const CHANGE_MULTIPLE_SONG_LIKES = \"CHANGE_MULTIPLE_SONG_LIKES\"\n\nconst receiveSong = (song) => {\n  return {\n    type: RECEIVE_SONG,\n    song\n  };\n};\n\nconst receiveSongs = (songs) => {\n  return ({\n    type: RECEIVE_SONGS,\n    songs,\n  })\n};\n\nconst changeLike = (likeData) => {\n  return ({\n    type: TOGGLE_SONG_LIKE,\n    likeData\n  })\n}\n\n// const changeMultipleLikes = (likeData) => {\n//   return ({\n//     type: CHANGE_MULTIPLE_SONG_LIKES,\n//     likeData\n//   })\n// }\n\nexport const fetchSong = id => dispatch => {\n  return SongApiUtil.fetchSong(id)\n    .then(song => { dispatch(receiveSong(song)) })\n};\n\nexport const fetchSongs = () => (dispatch) => {\n  return SongApiUtil.fetchSongs()\n    .then((songs) => { dispatch(receiveSongs(songs)) })\n};\n\nexport const fetchUserLiked = (userId) => (dispatch) => {\n  return SongApiUtil.fetchUserLiked(userId)\n    .then((songs) => { dispatch(receiveSongs(songs)) })\n};\n\nexport const fetchSongsByGenre = (genre) => (dispatch) => {\n  return SongApiUtil.fetchSongsByGenre(genre)\n    .then((songs) => { dispatch(receiveSongs(songs)) })\n};\n\nexport const searchSongs = (search) => (dispatch) => {\n  return SongApiUtil.searchSongs(search)\n    .then((songs) => { dispatch(receiveSongs(songs)) })\n};\n\nexport const toggleLike = likeData => dispatch => {\n  return SongApiUtil.toggleLike(likeData).then((likeData) => { dispatch(changeLike(likeData))});\n}\n\n// export const toggleMultipleLikes = likeData => dispatch => {\n//   return SongApiUtil.toggleMultipleLikes(likeData).then((likeData) => {dispatch(changeMultipleLikes(likeData))})\n// }","import axios from \"axios\";\n\nexport const fetchSongs = () => {\n  return axios.get(\"/api/songs\");\n};\n\nexport const fetchSong = id => {\n  return axios.get(`/api/songs/${id}`);\n};\n\nexport const searchSongs = search => {\n  return axios.get(`/api/songs/search/${search}`);\n};\n\nexport const fetchSongsByGenre = genre => {\n  return axios.get(`/api/songs/genre/${genre}`);\n};\n\nexport const fetchUserLiked = userId => {\n  return axios.get(`/api/users/${userId}/likedSongs`);\n};\n\nexport const toggleLike = (likeData) => {\n  return axios.patch(`/api/songs/like/${likeData.songId}`, likeData);\n};\n\n// export const toggleMultipleLikes = (likeData) => {\n//   return axios.patch('api/songs/like', likeData);\n// }","import * as apiUserUtil from \"../util/user_util\"\n\nexport const RECEIVE_USER = \"RECEIVE_USER\"\n\nconst receiveUser = (user) => ({\n    type: RECEIVE_USER,\n    user,\n})\n\nexport const fetchUser = (userId) => (dispatch) => {\n    return apiUserUtil.getUser(userId).then((user) => dispatch(receiveUser(user)));\n}","import axios from 'axios';\n\nexport const getUser = (id) => {\n    return axios.get(`api/users/${id}`)\n}\n\n","import PlayerInfo from './player_info';\nimport { connect } from 'react-redux';\nimport {toggleLike} from '../../actions/song_actions'\nimport {fetchUser} from '../../actions/user_actions'\n\nconst mapStateToProps = state => ({\n    currentTrack: state.queue[0],\n    tracks: state.queue,\n    nextTrack: state.queue[1],\n    currentUserId: state.session.user.id,\n    currentUser: state.entities.users[state.session.user.id]\n})\n\nconst mapDispatchToProps = dispatch => ({\n    toggleLike: (likeData)=> dispatch(toggleLike(likeData)),\n    fetchUser: (id) => dispatch(fetchUser(id))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerInfo);","import React from 'react';\nimport PlayerInfoContainer from './player_info_container';\nimport { Link } from 'react-router-dom';\n\nclass Player extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            play: false,\n            time: 0,\n            duration: 0,\n            mute: false,\n            repeat: false,\n            shuffle: false,\n        }\n        this.audio = React.createRef();\n        this.play = this.play.bind(this);\n        this.handleonPlay = this.handleonPlay.bind(this);\n        this.pause = this.pause.bind(this);\n        this.updateTime = this.updateTime.bind(this);\n        this.parseTime = this.parseTime.bind(this);\n        this.updateVolume = this.updateVolume.bind(this);\n        this.volumeBtn = this.volumeBtn.bind(this);\n        this.toggleMute = this.toggleMute.bind(this);\n        this.toggleRepeat = this.toggleRepeat.bind(this);\n        this.nextTrack = this.nextTrack.bind(this);\n        this.prevTrack = this.prevTrack.bind(this);\n        this.toggleShuffle = this.toggleShuffle.bind(this);\n        this.handleEnded = this.handleEnded.bind(this);\n      \n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.volume !== this.props.volume) {\n            this.audio.volume = this.props.volume;\n        }\n\n        if (prevProps.currentTrack !== this.props.currentTrack) {\n            clearInterval(this.interval);\n        }\n\n        if (prevProps.currentTrack !== this.props.currentTrack && this.props.currentTrack === undefined) {\n            this.setState({ pause: true });\n            this.audio.pause();\n            clearInterval(this.interval);\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n        this.props.removeEverything();\n    }\n\n    play(e) {\n        e.preventDefault();\n        if (!this.props.currentTrack) return null;\n        this.handleonPlay();\n        this.audio.play();\n    }\n    \n    handleonPlay() {\n        this.setState({ play: true })\n        this.audio.volume = this.props.volume;\n        this.interval = setInterval(() => {\n            if (this.audio) {\n                this.setState({\n                    time: this.audio.currentTime,\n                    duration: this.audio.duration\n                })\n            }\n        }, 500)   \n    }\n\n    handleEnded() {\n        if (this.state.shuffle) {\n            this.props.shuffleTracks();\n        } else if (!this.props.nextTrack) {\n            this.setState({ play: false })\n            this.audio.pause();\n        } else {\n            this.props.nextTrack();\n        }\n    }\n\n    pause(e) {\n        e.preventDefault();\n        this.setState({ play: false })\n        this.audio.pause();\n    }\n\n    nextTrack(e) {\n        e.preventDefault();\n        this.props.nextTrack()\n    }\n\n    prevTrack(e) {\n        e.preventDefault();\n        this.props.prevTrack();\n    }\n\n    updateTime(e) {\n        this.audio.currentTime = e.target.value;\n        this.setState({ time: e.target.value })\n    }\n\n    updateVolume(e) {\n        this.props.changeVolume(e.target.value / 100)\n    }\n\n    toggleRepeat(e) {\n        e.preventDefault();\n        this.setState({ repeat: !this.state.repeat }, () => {\n            this.audio.loop = this.state.repeat;\n        })\n    }\n\n    toggleShuffle(e) {\n        e.preventDefault();\n        this.setState({ shuffle: !this.state.shuffle });\n    }\n\n    toggleMute(e) {\n        this.setState({ mute: !this.state.mute }, () => {\n            if (this.props.volume) this.prevVolume = this.props.volume;\n            if (this.state.mute) {\n                this.props.changeVolume(0);\n                this.audio.volume = 0;\n            } else {\n                this.props.changeVolume(this.prevVolume);\n                this.audio.volume = this.prevVolume;\n            }\n        })\n    }\n\n    parseTime(time) {\n        if (!time) return \"0:00\";\n        let min = Math.floor(time / 60);\n        let seconds = Math.floor(time - (min * 60));\n        if (seconds < 10) seconds = `0${seconds}`;\n        return `${min}:${seconds}`;\n    }\n\n    volumeBtn() {\n        let button;\n        const volume = this.props.volume;\n        if (volume >= 0.5) {\n            button = <i className=\"fas fa-volume-up\"></i>;\n        } else if (volume < 0.5 && volume > 0) {\n            button = <i className=\"fas fa-volume-down\"></i>;\n        } else {\n            button = <i className=\"fas fa-volume-mute\"></i>;\n        }\n\n        return (\n            <div onClick={this.toggleMute} className=\"p-volume-btn\">\n                {button}\n            </div>\n        )\n\n    }\n\n    render() {\n        const playBtn = (\n            <button\n                className=\"p-button-circle\"\n                onClick={this.play}>\n                <i className=\"fas fa-play\"></i>\n            </button>\n        )\n        const pauseBtn = (\n            <button\n                className=\"p-button-circle\"\n                onClick={this.pause}>\n                <i className=\"fas fa-pause\"></i>\n            </button>\n        )\n        \n        const shuffling = this.state.shuffle ? \"-shuffling\" : null;\n        const shuffle = (\n            <button\n                onClick={this.toggleShuffle}\n                className={`p-button-shuffle${shuffling} pbtn`}>\n                <i className=\"fas fa-random\"></i>\n            </button>\n        )\n\n        const active = this.state.repeat ? \"-active\" : null;\n        const repeat = (\n            <button\n                className={`p-button-repeat${active} pbtn`}\n                onClick={this.toggleRepeat}>\n                <i className=\"fas fa-redo\"></i>\n            </button>\n        )\n\n        const prevTrackBtn = (\n            <button\n                onClick={this.prevTrack}\n                className=\"p-button-prev pbtn\">\n                <i className=\"fas fa-step-backward\"></i>\n            </button>\n        )\n\n        const nextTrackBtn = (\n            <button\n                onClick={this.nextTrack}\n                className=\"p-button-fwd pbtn\">\n                <i className=\"fas fa-step-forward\"></i>\n            </button>\n        )\n     \n        const { play, time, duration } = this.state;\n        const { currentTrack } = this.props;\n        return (\n            <div className=\"p-container\">\n                <PlayerInfoContainer shuffle={this.state.shuffle} />\n\n                <div className=\"p-audio-control\">\n                    <div className='p-buttons-container'>\n                        <audio src={currentTrack ? currentTrack.songUrl : null}\n                            ref={audio => this.audio = audio}\n                            onPlay={this.handleonPlay}\n                            onEnded={this.handleEnded}\n                            autoPlay />\n                          {/* {shuffle} */}\n                        {/* {prevTrackBtn} */}\n                        {!play && playBtn}\n                        {play && pauseBtn}\n                        {/* {nextTrackBtn} */}\n                        {/* {repeat} */}\n                    </div>\n\n                    <div className=\"p-timeline-container\">\n                        <span className=\"p-current-time\">\n                            {this.parseTime(time)}\n                        </span>\n                        <input\n                            className=\"p-timeline\"\n                            type=\"range\"\n                            onChange={this.updateTime}\n                            value={time}\n                            max={duration}>\n                        </input>\n\n                        <span className=\"p-duration\">\n                            {this.parseTime(duration)}\n                        </span>\n                    </div>\n                </div>\n\n                <div className=\"p-volume-container\">\n                    <Link to=\"/open/queue\"><div className=\"p-queue-list\">\n                        <i className=\"fas fa-indent\"></i>\n                    </div></Link>\n                    {this.volumeBtn()}\n                    <input\n                        className=\"p-volume\"\n                        type=\"range\"\n                        onChange={this.updateVolume}\n                        value={this.props.volume * 100}\n                        max=\"100\"\n                        style={{\n                            backgroundImage: '-webkit-gradient(linear, left top, right top, '\n                                + 'color-stop(' + this.props.volume + ', #3c02b0), '\n                                + 'color-stop(' + this.props.volume + ', #666666)'\n                                + ')'\n                        }}>\n                    </input>\n                </div>\n\n            </div>\n\n\n\n        )\n    }\n}\n\nexport default Player;\n","export const PLAY_TRACK = 'PLAY_TRACK';\nexport const PLAY_ALL_TRACKS = 'PLAY_ALL_TRACKS';\nexport const ADD_TRACK = 'ADD_TRACK'\nexport const REMOVE_TRACK = 'REMOVE_TRACK';\nexport const REMOVE_ALL_TRACKS = 'REMOVE_ALL_TRACKS';\nexport const NEXT_TRACK = 'NEXT_TRACK';\nexport const PREV_TRACK = 'PREV_TRACK';\nexport const SHUFFLE_TRACKS = 'SHUFFLE_TRACKS';\nexport const MOVE_UP = 'MOVE_UP';\nexport const MOVE_DOWN = 'MOVE_DOWN';\nexport const REMOVE_EVERYTHING = 'REMOVE_EVERYTHING';\n\n\nexport const playTrack = track => ({\n    type: PLAY_TRACK,\n    track\n});\n\nexport const playAllTracks = tracks => ({\n    type: PLAY_ALL_TRACKS,\n    tracks\n});\n\nexport const addTrack = track => ({\n    type: ADD_TRACK,\n    track\n})\n\nexport const removeTrack = trackId => ({\n    type: REMOVE_TRACK,\n    trackId\n});\n\nexport const removeAllTracks = () => ({\n    type: REMOVE_ALL_TRACKS\n});\n\nexport const removeEverything = () => ({\n    type: REMOVE_EVERYTHING\n});\n\nexport const nextTrack = () => ({\n    type: NEXT_TRACK\n});\n\nexport const prevTrack = () => ({\n    type: PREV_TRACK\n});\n\nexport const shuffleTracks = () => ({\n    type: SHUFFLE_TRACKS\n});\n\nexport const moveUp = track => ({\n    type: MOVE_UP,\n    track\n});\n\nexport const moveDown = track => ({\n    type: MOVE_DOWN,\n    track\n})","import { connect } from 'react-redux';\nimport Player from './player';\nimport { receiveVolume } from '../../actions/player_actions';\n// import { fetchSongs } from '../../actions/song_actions';\nimport {\n    playAllTracks,\n    nextTrack,\n    prevTrack,\n    shuffleTracks,\n    removeEverything,\n} \nfrom '../../actions/player_queue_actions';\nimport { withRouter } from 'react-router-dom';\n\n\nconst mapStateToProps = state => ({\n    volume: state.player.volume,\n    currentTrack: state.queue[0],\n    tracks: state.queue,\n    nextTrack: state.queue[1]\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    changeVolume: volume => dispatch(receiveVolume(volume)),\n    playAllTracks: (tracks) => dispatch(playAllTracks(tracks)),\n    nextTrack: () => dispatch(nextTrack()),\n    prevTrack: () => dispatch(prevTrack()),\n    shuffleTracks: () => dispatch(shuffleTracks()),\n    removeEverything: () => dispatch(removeEverything())\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Player));","export const RECEIVE_VOLUME = 'RECEIVE_VOLUME';\n\n\nexport const receiveVolume = volume => ({\n    type: RECEIVE_VOLUME,\n    volume\n});\n\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../../../assets/images/white-logo-black-music.png\";\n// import homeIcon from \"../../../assets/images/home-icon.png\";\n// import magGlassIcon from \"../../../assets/images/magnifying-glass-icon.png\";\n// import libraryIcon from \"../../../assets/images/library-icon.png\";\nclass SideBarNav extends React.Component {\n  render() {\n    // const search = \"\";\n    return (\n      <nav id=\"navBar\">\n        <Link className=\"navBar-link\" to=\"/open\">\n        <div id=\"splash-logo\" className=\"sidebar-Rock-N-Roll\" style={{fontSize:'28px',\n      fontWeight:'bold',padding:'9%'}}>Rock-N-Roll</div>\n        </Link>\n        <div id=\"navBar-header\">\n          <ul id=\"navBar-entry-points\">\n            <li>\n              <div className=\"navBar-item\">\n                <Link className=\"navBar-link\" to=\"/open\">\n                  <i class=\"fas fa-home home-icon\"></i>\n                  {/* <img className=\"home-icon\" src={homeIcon} alt=\"\"></img> */}\n                  Home\n                </Link>\n              </div>\n            </li>\n            {/* <li>\n              <div className=\"navBar-item\">\n                <Link className=\"navBar-link\" to=\"/open/search\">\n                  <i class=\"fas fa-search magGlass-icon\"></i>\n                  Search\n                </Link>\n              </div>\n            </li> */}\n            <li>\n              <div className=\"navBar-item\">\n                <Link className=\"navBar-link\" to=\"/open/library\">\n                  <i class=\"fas fa-book libary-icon\"></i>\n                  {/* <img className=\"library-icon\" src={libraryIcon} alt=\"\"></img> */}\n                  Your Library\n                </Link>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default SideBarNav;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\n\nclass Playlist extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderPlaylists = this.renderPlaylists.bind(this);\n    this.closeOptions = this.closeOptions.bind(this)\n    this.renderOptions = this.renderOptions.bind(this)\n    this.renamePlaylist = this.renamePlaylist.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.deletePlaylist = this.deletePlaylist.bind(this)\n    this.toggleRenamePopUp = this.toggleRenamePopUp.bind(this)\n    this.state = {\n      title: \"\",\n      showDropDown: false,\n      showRename: false,\n      mouseCoordsleft: 0,\n      mouseCoordsTop: 0,\n      renameCoordsLeft: 0,\n      renameCoordsTop: 0,\n      currentTargetPlaylistId: null,\n    }\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.currentUserId) {\n      this.props.fetchUserPlaylists(this.props.currentUserId);\n    }\n    document.addEventListener('mousedown', this.handleClick, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClick, false);\n  }\n\n  handleClick(e) {\n    const domNode = ReactDOM.findDOMNode(this);\n\n    if (!domNode || !domNode.contains(e.target)) {\n      this.setState({\n        showDropDown: false\n      });\n    }\n  }\n\n  handleKeyDown(e){\n    if (e.key === 'Enter') {\n      const data = {\n        playlistId: this.state.currentTargetPlaylistId,\n        title: this.state.title\n      }\n      this.props.renamePlaylist(data)\n      this.setState({ showRename: false })\n    }\n  }\n\n\n\n  closeOptions() {\n    this.setState({showDropDown: false})\n  }\n\n  renderOptions(e) {\n    e.preventDefault()\n\n    if (e.target.dataset.playlistid) {\n      this.setState({\n        targetedPlaylistContainer: e.target,\n        showRename: false,\n        showDropDown: !this.state.showDropDown,\n        mouseCoordsLeft: e.clientX,\n        mouseCoordsTop: e.clientY,\n        currentTargetPlaylistId: e.target.dataset.playlistid\n      })\n    }\n  }\n\n\n  renamePlaylist() {\n    return (e) => {\n      let currentTargetRect = this.state.targetedPlaylistContainer.getBoundingClientRect();\n      const e_offsetX = currentTargetRect.x,\n        e_offsetY = currentTargetRect.y - 5;\n      this.setState({\n        showRename: !this.state.showRename,\n        showDropDown: false,\n        renameCoordsLeft: e_offsetX,\n        renameCoordsTop: e_offsetY,\n      }, () => this.setFocus())\n      \n    }\n  }\n\n  deletePlaylist(playlistId) {\n    const data = {\n      playlistId: playlistId,\n      userId: this.props.currentUserId\n    }\n    return () => {\n      this.props.removePlaylist(data)\n      this.setState({\n        showRename: false,\n        showDropDown: !this.state.showDropDown\n      })\n    }\n  }\n\n  toggleRenamePopUp() {\n    this.setState({showRename: false})\n  }\n  \n  setFocus() {\n    let input = document.getElementById(\"playlist-rename-input-field\");\n    input.focus();\n  }\n\n\n  renderPlaylists() {\n    if (this.props.playlists) {\n      let playlists = Object.assign({}, this.props.playlists);\n      if (playlists['current']) delete playlists['current'];\n      return (\n        <div id=\"playlists-items-container\" onContextMenu={this.renderOptions}>\n          {this.state.showDropDown && <div className=\"playlist-options-popup\" style={{ left: this.state.mouseCoordsLeft, top: this.state.mouseCoordsTop }}>\n            <p className=\"option-choice\" onClick={this.renamePlaylist(this.state.currentTargetPlaylistId)}>Rename Playlist </p>\n            <p className=\"option-choice\" onClick={this.deletePlaylist(this.state.currentTargetPlaylistId)}>Delete Playlist</p>\n            <p className=\"option-choice\" onClick={this.closeOptions}>Cancel</p>\n          </div>}\n          {\n            Object.values(playlists).map((playlist, i) => (\n              <Link\n                to={`/open/playlist/${playlist._id}`}\n                className=\"playlists-item-container\"\n                key={playlist._id}\n                data-playlistid={playlist._id}\n                onContextMenu={this.renderOptions}\n              >\n                {playlist.title}\n              </Link>\n            ))\n          }\n          {this.state.showRename && <input\n            id=\"playlist-rename-input-field\"\n            className=\"playlist-rename-input-field\"\n            type=\"text\"\n            name=\"playlist-name\"\n            onChange={this.update(\"title\")}\n            placeholder=\"New Playlist Name\"\n            style={{ left: this.state.renameCoordsLeft, top: this.state.renameCoordsTop }}\n            onContextMenu={this.toggleRenamePopUp}\n            onKeyDown={this.handleKeyDown}\n          ></input>\n          }\n          \n          \n        </div >\n      );\n    }\n  }\n\n  update(field) {\n    return e =>\n      this.setState({\n        [field]: e.currentTarget.value\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"playlist-container\">\n        <h4>Playlists</h4>\n        <div className=\"navBar-item\">\n          <div\n            className=\"navBar-link\"\n            onClick={() => this.props.openModal(\"createPlaylist\")}\n          >\n            <i class=\"fas fa-plus-square\"></i>\n            {/* <img className=\"plus-icon\" src={plusIcon} alt=\"\"></img> */}\n            Create Playlist\n          </div>\n        </div>\n        <hr className=\"divider\"></hr>\n        {this.renderPlaylists()}\n      </div>\n    );\n  }\n}\n\nexport default Playlist;\n","export const OPEN_MODAL = \"OPEN_MODAL\";\nexport const CLOSE_MODAL = \"CLOSE_MODAL\";\n\nexport const openModal = (modal, songId) => {\n  return {\n    type: OPEN_MODAL,\n    data: {modal: modal, songId: songId}\n  };\n};\n\nexport const closeModal = () => {\n  return {\n    type: CLOSE_MODAL\n  };\n};\n","import * as PlaylistUtil from \"../util/playlist_util\";\nexport const RENAME_PLAYLIST = \"RENAME_PLAYLIST;\"\nexport const RECEIVE_PLAYLIST = \"RECEIVE_PLAYLIST\";\nexport const RECEIVE_USER_PLAYLISTS = \"RECEIVE_USER_PLAYLISTS\";\nexport const SHOW_PLAYLIST = \"SHOW_PLAYLIST\";\nexport const DELETE_PLAYLIST = \"DELETE_PLAYLIST\"\n\n\n\nconst receivePlaylist = playlist => {\n  return {\n    type: RECEIVE_PLAYLIST,\n    playlist\n  };\n};\n\nconst returnRename = playlist => {\n  return {\n    type: RENAME_PLAYLIST,\n    playlist\n  };\n};\n\nconst receivePlaylists = playlists => {\n  return {\n    type: RECEIVE_USER_PLAYLISTS,\n    playlists\n  };\n};\n\nconst deletePlaylist = playlist => {\n  return {\n    type: DELETE_PLAYLIST,\n    playlist\n  }\n}\nexport const addSongToPlaylist = (songId, playlistId) => dispatch => {\n  return PlaylistUtil.addSongToPlaylist(songId, playlistId).then(playlist =>\n    dispatch(receivePlaylist(playlist))\n  );\n};\n\nexport const createPlaylist = playlist => dispatch => {\n  return PlaylistUtil.createPlaylist(playlist).then(playlist =>\n    dispatch(receivePlaylist(playlist))\n  );\n};\n\nexport const fetchUserPlaylists = userId => dispatch => {\n  return PlaylistUtil.fetchUserPlaylists(userId).then(playlists =>\n    dispatch(receivePlaylists(playlists))\n  );\n};\n\nexport const removePlaylist = playlistData => dispatch => {\n  return PlaylistUtil.deletePlaylist(playlistData).then(playlist =>\n    dispatch(deletePlaylist(playlist.data))\n  )\n}\n\nexport const renamePlaylist = playlistData => dispatch => {\n  return PlaylistUtil.renamePlaylist(playlistData).then(playlist =>\n    dispatch(returnRename(playlist))\n  )\n}\n\n\nconst showPlaylist = playlist => {\n  return {\n    type: SHOW_PLAYLIST,\n    playlist\n  }\n}\n\nexport const fetchPlaylist = playlistId => dispatch => {\n  return PlaylistUtil.fetchPlaylist(playlistId)\n    .then(playlist => dispatch(showPlaylist(playlist)));\n};\n\n","import axios from \"axios\";\n\nexport const createPlaylist = playlist => {\n  return axios.post(\"/api/playlists/create\", playlist);\n};\n\nexport const addSongToPlaylist = (songId, playlistId) => {\n  let data = { songId: songId };\n  return axios.patch(`/api/playlists/addto/${playlistId}`, data)\n};\n\nexport const fetchUserPlaylists = userId => {\n  return axios.get(`/api/users/${userId}/playlists`);\n};\n\nexport const fetchPlaylist = playlistId => {\n  return axios.get(`/api/playlists/${playlistId}`);\n};\n\nexport const deletePlaylist = playlistData => {\n  return axios.delete(`/api/playlists/delete/${playlistData.playlistId}`)\n}\n\nexport const renamePlaylist = playlistData => {\n  return axios.patch(`/api/playlists/rename/${playlistData.playlistId}`, playlistData)\n};\n\n//to routes\n\n","import { connect } from \"react-redux\";\nimport Playlist from \"./playlist\";\nimport { openModal, closeModal } from \"../../../actions/modal_actions\";\nimport { fetchUserPlaylists, removePlaylist, renamePlaylist} from \"../../../actions/playlist_actions\";\n\nconst mapStateToProps = state => ({\n  playlists: state.entities.playlist,\n  currentUserId: state.session.user.id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  openModal: modal => dispatch(openModal(modal)),\n  closeModal: () => dispatch(closeModal()),\n  fetchUserPlaylists: userId => dispatch(fetchUserPlaylists(userId)),\n  removePlaylist: (playlistData) => dispatch(removePlaylist(playlistData)),\n  renamePlaylist: (playlistData) => dispatch(renamePlaylist(playlistData))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Playlist);\n","import React from \"react\";\nimport SideBarNav from \"./navbar/navbar\";\nimport Playlist from \"./playlist/playlist_container\";\n\nclass SideBar extends React.Component {\n  render() {\n    return (\n      <div className=\"root-navBar\">\n        <div className=\"sidebar-container\">\n          <SideBarNav />\n          <Playlist />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SideBar;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n// import { playTrack } from '../../actions/player_queue_actions';\n\nclass SongIndexItem extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleToggle = this.handleToggle.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n    this.state = {\n      songId: this.props.song._id\n    }\n  };\n\n  handleAdd = (e) => {\n    e.preventDefault();\n    this.props.openModal(\"choosePlaylist\", this.state.songId);\n  }\n\n  handleToggle = (e, songId) => {\n    e.preventDefault();\n\n    let songOptions = document.getElementById(songId);\n\n    if (songOptions) {\n      songOptions.classList.toggle(\"show\");\n    }\n  }\n\n  render() {\n    const song = this.props.song;\n    return (\n      <div className=\"song\" >\n          <li><img className=\"song-photo\" src={song.imageUrl} alt=\"\"/></li> \n          <li className=\"song-item-info\">\n          <p className=\"song-title\">{song.title}</p>\n          <Link to={`/open/artist/${song.artist._id}`} id={song.artist._id}>\n            <p className=\"song-artist\">{song.artist.name}</p>\n          </Link>\n          <div className=\"play-button\" onClick={(e) => this.props.playTrack(song)}><i className=\"fas fa-play-circle\"></i></div>\n          <div className=\"options-song\" onClick={(e) => this.handleToggle(e, song._id)}><i className=\"fa fa-ellipsis-h\" aria-hidden=\"true\"></i>\n          <div className=\"options-popup\"><div className=\"optionstext\" id={song._id}>\n              <p className=\"option-choice\" onClick={(e) => this.handleAdd(e)}>Add To Playlist</p>\n              {/* <p className=\"option-choice\" onClick={(e) => this.props.addTrack(song)}>Add To Queue</p> */}\n              <p className=\"option-choice\" onClick={(e) => this.props.playTrack(song)}>Play Song</p>\n              </div>\n              </div>\n          </div>\n          </li>\n        </div>\n    )\n  }\n};\n\nexport default SongIndexItem; ","import React from 'react';\nimport SongIndexItem from './song_index_item';\n\nclass SongsIndex extends React.Component {\n  componentDidMount() {\n    this.props.searchSongs(this.props.search);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.search && prevProps.search !== this.props.search) {\n    this.props.searchSongs(this.props.search);\n    }\n  }\n\n  render() {\n    let liSongs;\n    if (!this.props.songs || this.props.songs.length === 0) return null;\n    let songs = this.props.songs;\n    liSongs = Object.values(songs).map(song => <SongIndexItem key={song._id} song={song} addTrack={this.props.addTrack} playTrack={this.props.playTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal}/>);\n    //changed from <h1><h1> to null\n    const title = liSongs.length > 0 ? <h1 className=\"songs-list-title\">Songs</h1> : null\n    return (\n      <div>\n        {title}\n        <div className=\"songs-list\">\n          {liSongs}\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default SongsIndex; ","import SongIndex from \"./songs\";\nimport { connect } from 'react-redux';\nimport { fetchSongs, searchSongs } from '../../actions/song_actions';\nimport { playTrack, addTrack } from '../../actions/player_queue_actions';\nimport { addSongToPlaylist } from '../../actions/playlist_actions';\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\n\nconst msp = (state) => {\n  return { songs: state.entities.songs };\n};\n\nconst mdp = () => dispatch => {\n  return { fetchSongs: () => dispatch(fetchSongs()),\n           searchSongs: (search) => dispatch(searchSongs(search)),\n           playTrack: (track) => dispatch(playTrack(track)),\n           addTrack: (track) => dispatch(addTrack(track)),\n           addSongToPlaylist: (songId, playlistId) => dispatch(addSongToPlaylist(songId, playlistId)),\n           openModal: (modal, songId) => dispatch(openModal(modal, songId)),\n           closeModal: () => dispatch(closeModal())\n          }\n};\n\nexport default connect(\n  msp,\n  mdp\n)(SongIndex);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass ArtistIndexItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playSongs = this.playSongs.bind(this);\n  };\n\n  playSongs(e) {\n    e.preventDefault();\n    this.props.playAllTracks(this.props.artist.songs);\n  }\n  render() {\n    const artist = this.props.artist;\n    return (\n      <div>\n        <Link to={`/open/artist/${artist._id}`} id={artist._id}>\n      <div className=\"artist\">\n        <li><img className=\"artist-photo\" src={artist.imageUrl} alt=\"\"/></li>\n        <li className=\"artist-name\">{artist.name}</li>\n        <li className=\"artist-description\">Artist</li>\n            <li><div className=\"play-button-album\" onClick={(e) => this.playSongs(e)}><i className=\"fas fa-play-circle\"></i></div></li>\n      </div>\n        </Link>\n      </div>\n    )\n  }\n};\n\nexport default ArtistIndexItem; ","import React from 'react';\nimport ArtistIndexItem from './artist_index_item';\n\nclass ArtistsIndex extends React.Component {\n  componentDidMount() {\n    this.props.searchArtists(this.props.search);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.search !== this.props.search) {\n      this.props.searchArtists(this.props.search);\n    }\n  }\n\n  render() {\n    let liArtists;\n    if (!this.props.artists || this.props.artists.length === 0) return null;\n    let artists = this.props.artists;\n  \n    liArtists = Object.values(artists).map(artist => <ArtistIndexItem key={artist._id} artist={artist} playAllTracks={this.props.playAllTracks} />);\n    //changed from <h1></h1> to null\n    const title = liArtists.length > 0 ? <h1 className=\"artists-list-title\">Artists</h1> : null\n    return (\n      <div>\n        {title}\n        <div className=\"artists-list\">\n          {liArtists}\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default ArtistsIndex; ","import * as ArtistApiUtil from \"../util/artist_util\";\nexport const RECEIVE_ARTIST = \"RECEIVE_ARTIST\";\nexport const RECEIVE_ARTISTS = \"RECEIVE_ARTISTS\";\n\nconst receiveArtist = (artist) => {\n  return {\n    type: RECEIVE_ARTIST,\n    artist,\n  };\n};\n\nconst receiveArtists = (artists) => {\n  return ({\n    type: RECEIVE_ARTISTS,\n    artists,\n  })\n};\n\nexport const fetchArtist = id => dispatch => {\n  return ArtistApiUtil.fetchArtist(id)\n    .then(artist => { dispatch(receiveArtist(artist)) })\n};\n\nexport const fetchArtists = () => (dispatch) => {\n  return ArtistApiUtil.fetchArtists()\n    .then((artists) => { dispatch(receiveArtists(artists)) })\n};\n\nexport const searchArtists = (search) => (dispatch) => {\n  return ArtistApiUtil.searchArtists(search)\n    .then((artists) => { dispatch(receiveArtists(artists)) })\n};","import axios from \"axios\";\n\nexport const fetchArtists = () => {\n  return axios.get(\"/api/artists\");\n};\n\nexport const fetchArtist = id => {\n  return axios.get(`/api/artists/${id}`);\n};\n\nexport const searchArtists = search => {\n  return axios.get(`/api/artists/search/${search}`);\n};","import ArtistIndex from \"./artist_index\";\nimport { connect } from 'react-redux';\nimport { fetchArtists, searchArtists } from '../../actions/artist_actions';\nimport { playAllTracks } from '../../actions/player_queue_actions';\nconst msp = (state) => {\n  return { artists: state.entities.artists };\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchArtists: () => dispatch(fetchArtists()),\n    searchArtists: (search) => dispatch(searchArtists(search)),\n    playAllTracks: (tracks) => dispatch(playAllTracks(tracks))\n  };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(ArtistIndex);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass AlbumIndexItem extends React.Component {\n  constructor(props) {\n    super(props)\n    this.playSongs = this.playSongs.bind(this);\n  };\n\n  playSongs(e) {\n    e.preventDefault();\n    this.props.playAllTracks(this.props.album.songs);\n  }\n  render() {\n    const album = this.props.album;\n    return (\n      <div>\n        <Link to={`/open/album/${album._id}`} id={album._id}>\n          <div className=\"album\">\n            <li><img className=\"album-photo\" src={album.imageUrl} alt=\"\"/></li>\n            <li className=\"album-name\">{album.title}</li>\n            <Link to={`/open/artist/${album.artist._id}`} id={album.artist._id}><li className=\"album-artist\">{album.artist.name}</li></Link>\n            <li><div className=\"play-button-album\" onClick={(e) => this.playSongs(e)}><i className=\"fas fa-play-circle\"></i></div></li>\n            \n          </div>\n        </Link>\n      </div>\n    )\n  }\n};\n\nexport default AlbumIndexItem; ","import React from 'react';\nimport AlbumIndexItem from './album_index_item';\n\nclass AlbumsIndex extends React.Component {\n  componentDidMount() {\n    this.props.searchAlbums(this.props.search);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.search !== this.props.search) {\n      this.props.searchAlbums(this.props.search);\n    }\n  }\n\n  render() {\n    let liAlbums;\n    if (!this.props.albums || this.props.albums.length === 0) return null;\n    let albums = this.props.albums;\n\n    liAlbums = Object.values(albums).map(album => <AlbumIndexItem key={album._id} album={album} playAllTracks={this.props.playAllTracks} />);\n    //changed from <h1></h1> to null\n    const title = liAlbums.length > 0 ? <h1 className=\"artists-list-title\">Albums</h1> : null\n    return (\n      <div>\n        {title}\n        <div className=\"artists-list\">\n          {liAlbums}\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default AlbumsIndex; ","import * as AlbumApiUtil from \"../util/album_util\";\nexport const RECEIVE_ALBUM = \"RECEIVE_ALBUM\";\nexport const RECEIVE_ALBUMS = \"RECEIVE_ALBUMS\";\nexport const TOGGLE_ALBUM_LIKE = \"TOGGLE_ALBUM_LIKE\";\n\nconst receiveAlbum = (album) => {\n  return {\n    type: RECEIVE_ALBUM,\n    album,\n  };\n};\n\nconst receiveAlbums = (albums) => {\n  return ({\n    type: RECEIVE_ALBUMS,\n    albums,\n  })\n};\n\nconst toggleLike = (likeData) => {\n  return ({\n    type: TOGGLE_ALBUM_LIKE,\n    likeData,\n  })\n}\n\nexport const fetchAlbum = id => dispatch => {\n  return AlbumApiUtil.fetchAlbum(id)\n    .then(album => { dispatch(receiveAlbum(album)) })\n};\n\nexport const fetchAlbums = () => (dispatch) => {\n  return AlbumApiUtil.fetchAlbums()\n    .then((albums) => { dispatch(receiveAlbums(albums)) })\n};\n\nexport const searchAlbums = (search) => (dispatch) => {\n  return AlbumApiUtil.searchAlbums(search)\n    .then((albums) => { dispatch(receiveAlbums(albums)) })\n};\n\nexport const toggleAlbumLike = (likeData) => dispatch => {\n  return AlbumApiUtil.toggleAlbumLike(likeData)\n    .then(likeData => {dispatch(toggleLike(likeData))})\n}","import axios from \"axios\";\n\nexport const fetchAlbums = () => {\n  return axios.get(\"/api/albums\");\n};\n\nexport const fetchAlbum = id => {\n  return axios.get(`/api/albums/${id}`);\n};\n\nexport const searchAlbums = search => {\n  return axios.get(`/api/albums/search/${search}`);\n};\n\nexport const toggleAlbumLike = likeData => {\n  return axios.patch(`api/albums/like/${likeData.albumId}`, likeData);\n}","import AlbumIndex from \"./album_index\";\nimport { connect } from 'react-redux';\nimport { fetchAlbums, searchAlbums } from '../../actions/album_actions';\nimport { playAllTracks } from '../../actions/player_queue_actions';\n\nconst msp = (state) => {\n  return { albums: state.entities.albums };\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchAlbums: () => dispatch(fetchAlbums()),\n    searchAlbums: (search) => dispatch(searchAlbums(search)),\n    playAllTracks: (songs) => dispatch(playAllTracks(songs))\n  };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(AlbumIndex);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nclass PlaylistIndexItem extends React.Component {\n  constructor(props) {\n    super(props)\n    this.playSongs = this.playSongs.bind(this);\n  };\n\n  playSongs(e) {\n    e.preventDefault();\n    this.props.playAllTracks(this.props.playlist.songs);\n  }\n\n  render() {\n    const playlist = this.props.playlist;\n    \n    const src = playlist.songs.length !== 0 ? playlist.songs[0].imageUrl : '/static/images/playlist.png';\n    let count;\n    if (playlist.songs.length !== 0) {\n      count = playlist.songs.length > 1 ? playlist.songs.length + \" songs\" : playlist.songs.length + \" song\"\n    } else {  \n      count = 'No songs yet';\n    };\n\n    return (\n      <div>\n        <Link to={`/open/playlist/${playlist._id}`} id={playlist._id}>\n          <div className=\"album\">\n            <li><img className=\"album-photo\" src={src} alt=\"\"/></li> \n            <li className=\"album-name\">{playlist.title}</li>\n            <li className=\"song-count\">{count}</li>\n            <li><div className=\"play-button-album\" onClick={(e) => this.playSongs(e)}><i className=\"fas fa-play-circle\"></i></div></li>\n\n          </div>\n        </Link>\n      </div>\n    )\n  }\n};\n\nexport default PlaylistIndexItem; ","import React from 'react';\nimport PlaylistIndexItem from './playlist_index_item';\n\nclass PlaylistIndex extends React.Component {\n  componentDidMount() {\n    this.props.fetchUserPlaylists(this.props.currentUserId);\n  }\n\n  render() {\n    let divClass;\n   \n    if (this.props.location) {\n    divClass = this.props.location.pathname === \"/open/library\" ? \"open-player-body\" : \"home-page\";\n    };\n    let liPlaylists;\n    if (!this.props.playlists || this.props.playlists.length === 0) return null;\n    let playlists = this.props.playlists;\n\n    liPlaylists = Object.values(playlists).map(playlist => <PlaylistIndexItem key={playlist._id} playlist={playlist} playAllTracks={this.props.playAllTracks}/>);\n    //changed from <h1></h1> to null\n    const title = liPlaylists.length > 0 ? <h1 className=\"artists-list-title\">Playlists</h1> : null\n    return (\n      <div className={divClass}>\n        {title}\n        <div className=\"playlists-list\">\n          {liPlaylists}\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default PlaylistIndex; ","import PlaylistIndex from \"./playlist_index\";\nimport { connect } from 'react-redux';\nimport { fetchUserPlaylists } from '../../actions/playlist_actions';\nimport { playAllTracks } from '../../actions/player_queue_actions';\n\nconst msp = (state) => {\n  return { playlists: state.entities.playlist,\n           currentUserId: state.session.user.id };\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchUserPlaylists: (userId) => dispatch(fetchUserPlaylists(userId)),\n    playAllTracks: (songs) => dispatch(playAllTracks(songs))\n  };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(PlaylistIndex);","import React from 'react';\nimport { Link } from 'react-router-dom';\nclass LikedIndex extends React.Component {\n  render() {\n    const title = <h1 className=\"artists-list-title\">Liked Songs</h1>\n    return (\n      <div className=\"likedsongs-index\">\n        {title}\n        <div className=\"playlists-list\">\n          <div>\n            <Link to=\"/open/likedsongs\" id=\"likesongs\">\n              <div className=\"album\">\n                <li><img className=\"album-photo\" src='/static/images/liked.png' alt=\"\"/></li>\n                <li className=\"album-name\">Your Liked Songs</li>\n                <li><div className=\"play-button-liked\"><i className=\"fas fa-music\"></i></div></li>\n              </div>\n            </Link>\n          </div>\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default LikedIndex; ","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PlaylistIndexContainer from '../index/playlist_index_container';\nimport LikedSongs from '../index/liked_index';\nclass Suggested extends React.Component {\n  render() {\n\n    return (\n      <div className=\"open-player-body\">\n        <div>\n        <h1 className=\"genre-title\">Music genre</h1>\n        <div className=\"suggested-genres\">\n          <Link to=\"/open/genre/softrock\"><div className=\"genre-1\">\n                <p className=\"genre-subtitle\">Reggae</p>\n                <img className=\"genre-img\" src=\"static/images/softrock.png\" alt=\"\" />\n          </div>\n          </Link>\n          <Link to=\"/open/genre/altrock\">\n            <div className=\"genre-2\">\n                 <p className=\"genre-subtitle\">Rock music</p>\n                 <img className=\"genre-img\" src=\"static/images/altrock.png\" alt=\"\" />\n            </div>\n          </Link>\n          <Link to=\"/open/genre/classicrock\">\n            <div className=\"genre-3\">\n                <p className=\"genre-subtitle\">Hip hop music</p>\n                <img className=\"genre-img\" src=\"static/images/classicrock.png\" alt=\"\" />\n            </div>\n          </Link>\n        </div>\n            <PlaylistIndexContainer/>\n            <LikedSongs/>\n          </div>\n      </div>\n    )\n  };\n};\n\nexport default Suggested; ","import React from 'react';\nimport SongIndexContainer from './songs_container';\nimport ArtistIndexContainer from './artist_container';\nimport AlbumIndexContainer from './album_container';\nimport Suggested from '../open/suggested';\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: ''\n    };\n    this.update = this.update.bind(this);\n    this.getResults = this.getResults.bind(this);\n  }\n\n  update(e) {\n   e.preventDefault(); \n   this.setState({search: e.currentTarget.value});\n   this.getResults(); \n  }\n\n  getResults() {\n    return this.state.search ? (\n        <div className=\"open-player-body\">\n          <SongIndexContainer search={this.state.search} />\n          <ArtistIndexContainer search={this.state.search} />\n          <AlbumIndexContainer search={this.state.search} />\n        </div>\n        ) : <div><Suggested /></div>\n  }\n\n  render() {\n    return (\n      <div className=\"search-bar\">\n        <i className=\"fas fa-search search-glass\"></i>\n        <input\n          className='search-input'\n          placeholder='Search for Artists, Songs, or Albums'\n          value={this.state.search}\n          onChange ={(e) => this.update(e)}\n          />\n        {this.getResults()}   \n      </div>\n    )\n  };\n};\n\nexport default Search; ","import Search from \"./search\";\nimport { connect } from 'react-redux';\nimport { fetchSongs } from '../../actions/song_actions';\n\nconst msp = (state) => {\n  return { songs: state.entities.songs };\n};\n\nconst mdp = () => dispatch => {\n  return { fetchSongs: () => dispatch(fetchSongs()) };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(Search);","import React from 'react';\nimport SongIndexItem from '../index/song_index_item';\n\nclass ArtistShow extends React.Component {\n  componentDidMount() {\n    this.props.fetchArtist(this.props.match.params.id);\n  }\n\n  render() {\n    let liSongs;\n    if (!this.props.artist) return null;\n    let artist = this.props.artist;\n    let songs = artist.songs;\n    if (songs) {\n      liSongs = songs.map(song => <SongIndexItem key={song._id} song={song} addTrack={this.props.addTrack} playTrack={this.props.playTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal}/>); \n    }\n    return (\n      <div className=\"artist-page\">\n        <img className=\"artist-show-photo\" src={artist.imageUrl} alt=\"\"/>\n        <div className=\"open-player-body\"> \n          <h1 className=\"artist-show-title\">{artist.name}</h1>\n          <div className=\"artist-show-songs\">\n            {liSongs}\n          </div>\n        </div>  \n      </div>\n    )\n  };\n};\n\nexport default ArtistShow; ","import ArtistShow from \"./artist_show\";\nimport { connect } from 'react-redux';\nimport { fetchArtist } from '../../actions/artist_actions';\nimport { playTrack, addTrack } from '../../actions/player_queue_actions';\nimport { addSongToPlaylist } from '../../actions/playlist_actions';\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\nconst msp = (state) => {\n  return { artist: state.entities.artists };\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchArtist: (id) => dispatch(fetchArtist(id)),\n    playTrack: (song) => dispatch(playTrack(song)),\n    addTrack: (song) => dispatch(addTrack(song)),\n    addSongToPlaylist: (songId, playlistId) => dispatch(addSongToPlaylist(songId, playlistId)),\n    closeModal: () => dispatch(closeModal()),\n    openModal: (modal, songId) => dispatch(openModal(modal, songId))\n\n  };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(ArtistShow);","import React from 'react';\nimport { Link } from 'react-router-dom'\n\nclass PlayerQueue extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            active: \"\"\n        }\n        this.comingUp = this.comingUp.bind(this);\n        this.closeTrack = this.closeTrack.bind(this); \n        this.moveUp = this.moveUp.bind(this);\n        this.moveDown = this.moveDown.bind(this);\n        this.clearTracks = this.clearTracks.bind(this);\n    }\n\n    comingUp() {\n        let nextUp;\n        if (this.props.nextTrack) {\n           nextUp = this.props.tracks.slice(1).map((track, i) => (\n                <div \n                    onClick={e => this.state.active !== track._id ? this.setState({active: track._id}) : this.setState({active: \"\"})} \n                    key={i} \n                    id={this.state.active === track._id ? \"active\" : null}\n                    className={`pq-next-container ${track._id}`}>\n                     <i className=\"fas fa-play\"></i>\n                     <div className=\"pq-details\">\n                         <span className=\"pq-title\">\n                             {track.title}\n                         </span>\n                       <h4 to={`/open/artist/${track.artist._id}`}><span className=\"pq-artist\">\n                            {track.artist.name}\n                         </span></h4>\n                    </div>\n                    <ul className={this.state.active === track._id ? \"pq-options-active\" : \"pq-options\"}>\n                        <li>\n                            <i onClick={this.moveUp(track)} className=\"fas fa-arrow-up\"></i>\n                        </li>\n                        <li>\n                            <i onClick={this.moveDown(track)} className=\"fas fa-arrow-down\"></i>\n                        </li>\n                        <li className=\"pq-close\" onClick={this.closeTrack(track)}>\n                            <i className=\"fas fa-times\"></i>\n                        </li>\n                    </ul>\n                 </div>\n            ))\n        }\n       return nextUp;\n    }\n\n\n    moveUp(track) {\n        return e => {\n            e.stopPropagation();\n            this.props.moveUp(track);\n        }\n    }\n\n    moveDown(track) {\n        return e => {\n            e.stopPropagation();\n            this.props.moveDown(track);\n        }\n    }\n\n    closeTrack(track) {\n        return e => {\n            e.stopPropagation();\n            this.props.removeTrack(track._id);\n        }\n    }\n\n    clearTracks(e) {\n        e.stopPropagation();\n        this.props.removeAll();\n    }\n\n    render() {\n        const { currentTrack } = this.props;\n        if (!currentTrack) return (\n            <div className=\"open-player-body\">\n                <div className=\"pq-container\">\n                    <h1>Play Queue (Empty)</h1>\n                </div>\n            </div>\n        );\n        \n        return (\n            <div className=\"open-player-body\">\n                <div className=\"pq-container\">\n                    <h1>Play Queue</h1>\n                    <h2>Now Playing </h2>\n                    <div onClick={e => this.state.active !== currentTrack._id ? this.setState({ active: currentTrack._id }) : this.setState({ active: \"\" })}\n                        id={this.state.active === currentTrack._id ? \"active\" : null}\n                        className={`pq-track-container ${currentTrack._id}`}>\n                        <i className=\"fas fa-\"></i>\n                        <div className=\"pq-details\">\n                            <span className=\"pq-title\">\n                                {this.props.currentTrack.title}\n                            </span>\n                            <h4 to={`/open/artist/${currentTrack.artist._id}`}><span className=\"pq-artist\">\n                                {this.props.currentTrack.artist.name}\n                            </span></h4>\n                        </div>\n                       <ul className={this.state.active === currentTrack._id ? \"pq-options-active\" : \"pq-options\"}>\n                            <li>\n                                <i onClick={this.moveUp(currentTrack)} className=\"fas fa-arrow-up\"></i>\n                            </li>\n                            <li>\n                                <i onClick={this.moveDown(currentTrack)} className=\"fas fa-arrow-down\"></i>\n                            </li>\n                            <li className=\"pq-close\" onClick={this.closeTrack(currentTrack)}>\n                                <i className=\"fas fa-times\"></i>\n                            </li>\n                        </ul>\n                    </div>\n                    <h2>Next Up {this.props.nextTrack ? <div id=\"pq-options-clear\" onClick={this.clearTracks}>Clear All</div> : null }</h2>\n                    {this.comingUp()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PlayerQueue;","import { connect } from 'react-redux';\nimport PlayerQueue from './player_queue';\nimport { \n    removeTrack, \n    moveUp,\n    moveDown,\n    removeAllTracks,\n} from '../../actions/player_queue_actions'\n\nconst mapStateToProps = state => ({\n    currentTrack: state.queue[0],\n    nextTrack: state.queue[1],\n    tracks: state.queue,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    removeTrack: trackId => dispatch(removeTrack(trackId)),\n    moveUp: track => dispatch(moveUp(track)),\n    moveDown: track => dispatch(moveDown(track)),\n    removeAll: () => dispatch(removeAllTracks())\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerQueue);","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nclass NavigationArrows extends React.Component {\n  constructor(props) {\n    super(props);\n    this.backCounter = 0;\n    this.state = {\n      backEnabled: false\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.location.pathname !== this.props.location.pathname) {\n      this.backCounter = this.backCounter + 1;\n      if (!this.state.backEnabled && this.backCounter > 0) {\n        this.setState({\n          backEnabled: true\n        });\n      } else if (this.backCounter === 0 && this.state.backEnabled === true) {\n        this.setState({\n          backEnabled: false\n        });\n      }\n    }\n  }\n\n  goForward = () => {\n    this.props.history.goForward();\n  };\n\n  goBackward = () => {\n    this.props.history.goBack();\n    this.backCounter = this.backCounter - 2;\n  };\n\n  render() {\n    return (\n      <div></div>\n      // <div id=\"navigation-arrows-container\">\n      //   <button\n      //     className={`navigation-arrow-circle ${\n      //       this.state.backEnabled ? \"\" : \"disabled\"\n      //       }`}\n      //     title=\"Go Backward\"\n      //     onClick={this.goBackward}\n      //     disabled={!this.state.backEnabled}\n      //   >\n      //     <svg viewBox=\"0 0 24 24\" className=\"arrow\">\n      //       <path\n      //         fill=\"currentColor\"\n      //         d=\"M15.54 21.15L5.095 12.23 15.54 3.31l.65.76-9.555 8.16 9.555 8.16\"\n      //       ></path>\n      //     </svg>\n      //   </button>\n\n      //   <button\n      //     className={`navigation-arrow-circle ${\n      //       this.backCounter > 0 ? \"\" : \"disabled\"\n      //       }`}\n      //     title=\"Go Forward\"\n      //     onClick={this.goForward}\n      //   >\n      //     <svg viewBox=\"0 0 24 24\" className=\"arrow\">\n      //       <path\n      //         fill=\"currentColor\"\n      //         d=\"M7.96 21.15l-.65-.76 9.555-8.16L7.31 4.07l.65-.76 10.445 8.92\"\n      //       ></path>\n      //     </svg>\n      //   </button>\n      // </div>\n    );\n  }\n}\n\nexport default withRouter(NavigationArrows);\n","import React from \"react\";\nimport GreetingContainer from \"../greeting/greeting_container\";\nimport NavigationArrows from \"./navigation_arrows\";\nclass OpenHeader extends React.Component {\n\n  render() {\n    return (\n      <div id=\"open-header-container\">\n        <NavigationArrows />\n        <GreetingContainer />\n      </div>\n    );\n  }\n}\n\nexport default OpenHeader;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n// import { playTrack } from '../../actions/player_queue_actions';\n\nclass AlbumSongIndexItem extends React.Component {\n    constructor(props) {\n    super(props)\n    this.handleToggle = this.handleToggle.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n    this.state = { \n      songId: this.props.song._id\n    }\n  };\n\n  handleAdd = (e) => {\n    e.preventDefault(); \n    this.props.openModal(\"choosePlaylist\", this.state.songId);\n  }\n\n  handleToggle = (e, songId) => {\n    e.preventDefault();\n\n    let songOptions = document.getElementById(songId);\n\n    if (songOptions) {\n      songOptions.classList.toggle(\"show\");\n    }\n  }\n  render() {\n    const song = this.props.song;\n\n    return (\n      <div className=\"song\">\n        <li><img className=\"song-photo\" src=\"../static/images/musicsymbol.png\" alt=\"\"/></li>\n        <li className=\"song-item-info\">\n          <p className=\"song-title\">{song.title}</p>\n          <Link to={`/open/artist/${song.artist._id}`} id={song.artist._id}>\n            <p className=\"song-artist\">{song.artist.name}</p>\n          </Link>\n          </li>\n        <div className=\"play-button\" onClick={(e) => this.props.playTrack(song)}><i className=\"fas fa-play-circle\"></i></div>\n          <div className=\"options-song\" onClick={(e) => this.handleToggle(e, song._id)}><i className=\"fa fa-ellipsis-h\" aria-hidden=\"true\"></i>\n            <div className=\"options-popup\"><div className=\"optionstext\" id={song._id}>\n              <p className=\"option-choice\" onClick={(e) => this.handleAdd(e)}>Add To Playlist</p>\n            {/* <p className=\"option-choice\" onClick={(e) => this.props.addTrack(song)}>Add To Queue</p> */}\n            <p className=\"option-choice\" onClick={(e) => this.props.playTrack(song)}>Play Song</p>\n            </div>\n            </div>\n          </div>\n\n      </div>\n    )\n  }\n};\n\nexport default AlbumSongIndexItem; ","import React from 'react';\nimport AlbumSongIndexItem from '../index/album_song_index_item';\nimport { Link } from 'react-router-dom';\n\nclass AlbumShow extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      albumLiked: null,\n    }\n    \n    this.toggleAlbumLike = this.toggleAlbumLike.bind(this);\n    this.renderAlbumLike = this.renderAlbumLike.bind(this);\n  }\n  componentDidMount() {\n    this.props.fetchAlbum(this.props.match.params.id);\n    this.props.fetchUser(this.props.currentUserId);\n    // this.setState();\n  }\n\n  renderAlbumLike() {\n  \n    if (this.props.currentUser && this.props.currentUser.likedAlbums.includes(this.props.match.params.id)) {\n      return (\n        <i className=\"fas fa-heart\"></i>\n        )\n      } else {\n        return (\n          <i className=\"far fa-heart\"></i>\n          )\n        }\n      }\n      \n  toggleAlbumLike() {\n    const likeData = {\n      userId: this.props.currentUser._id,\n      albumId: this.props.match.params.id,\n    }\n    this.props.toggleAlbumLike(likeData)\n    this.setState({\n      albumLiked: this.props.currentUser.likedAlbums.includes(this.props.album._id)\n    });\n  }\n\n  render() {\n    let liSongs;\n    if (!this.props.album[this.props.match.params.id]) return null;\n    let album = this.props.album[this.props.match.params.id];\n    let songs = album.songs;\n    if (album) {\n      liSongs = songs.map(song => <AlbumSongIndexItem key={song.id} song={song} playTrack={this.props.playTrack} addTrack={this.props.addTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal} />);\n    }\n    return (\n        <div className=\"album-page\"> \n          <img className=\"album-background-photo\" src=\"static/images/gradient.jpg\" alt=\"\"></img>\n          <div className=\"open-player-body\">\n          <div className=\"artist-show-header\">\n            <img className=\"album-show-photo\" src={album.imageUrl} alt=\"\"/>\n            <div className=\"album-header-info\">\n            <h1 className=\"album-show-title\">{album.title}</h1>\n            <div className=\"album-by\">By <Link className=\"album-artist-name\" to={`/open/artist/${album.artist._id}`} id={album.artist._id}>{album.artist.name}</Link></div>\n            <p className=\"album-year\">{album.year}    {songs.length} SONGS</p>\n            <div className=\"album-show-interactive\">\n                <button className=\"album-show-play\" onClick={(e) => this.props.playAllTracks(songs)}>PLAY</button>\n                <div className=\"like-album\" onClick={this.toggleAlbumLike}>{this.renderAlbumLike()}</div>\n                <p className=\"album-options\"><i className=\"fas fa-ellipsis-h\" aria-hidden=\"true\"></i></p>\n            </div>\n            </div>\n          </div>\n          <div className=\"album-show-songs\">\n            {liSongs}\n          </div>\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default AlbumShow; ","import AlbumShow from \"./album_show\";\nimport { connect } from 'react-redux';\nimport { fetchAlbum, toggleAlbumLike } from '../../actions/album_actions';\nimport { playTrack, addTrack, playAllTracks } from '../../actions/player_queue_actions';\nimport {fetchUser} from '../../actions/user_actions'\nimport { addSongToPlaylist } from '../../actions/playlist_actions';\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\nconst msp = (state) => {\n  return { \n    album: state.entities.albums, \n    currentUserId: state.session.user.id,\n    currentUser: state.entities.users[state.session.user.id],\n  };\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchAlbum: (id) => dispatch(fetchAlbum(id)),\n    playTrack: (song) => dispatch(playTrack(song)),\n    addTrack: (song) => dispatch(addTrack(song)),\n    playAllTracks: (songs) => dispatch(playAllTracks(songs)),\n    openModal: (modal, songId) => dispatch(openModal(modal, songId)),\n    toggleAlbumLike: (likeData) => dispatch(toggleAlbumLike(likeData)),\n    fetchUser: (id) => dispatch(fetchUser(id)),\n    addSongToPlaylist: (songId, playlistId) => dispatch(addSongToPlaylist(songId, playlistId)),\n    closeModal: () => dispatch(closeModal())\n  };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(AlbumShow);","import React from \"react\";\nimport { Link } from 'react-router-dom';\n\nclass PlaylistShow extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.showSongs = this.showSongs.bind(this);\n    this.playAll = this.playAll.bind(this);\n    this.playTrack = this.playTrack.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.props.fetchPlaylist(this.props.match.params.id);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      this.props.fetchPlaylist(this.props.match.params.id);\n    }\n  }\n\n\n  playAll(e) {\n    e.preventDefault();\n    this.props.playAllTracks(this.props.playlist.songs);\n  }\n\n  playTrack(track) {\n    return e => {\n      e.stopPropagation();\n      this.props.playTrack(track);\n    }\n  }\n\n  showSongs() {\n    if (!this.props.playlist) return (null);\n    const songs = Object.values(this.props.playlist.songs);\n    if (songs.length === 0) return (\n      <div\n        className=\"ps-empty-container\">\n        <i className=\"fas fa-play\"></i>\n          <h1>No Songs</h1>\n          <h3>Let's find some nice songs to relax to</h3>\n          {/* <Link to=\"/open/search\"><div className=\"ps-search\">Search Songs</div></Link> */}\n      </div>\n    )\n    return songs.map((song, i) => {\n      return (\n        <div\n          key={i}\n          className={`pq-track-container`}>\n          <i onClick={this.playTrack(song)} className=\"fas fa-play\"></i>\n          <div className=\"pq-details\">\n            <span className=\"pq-title\">\n              {song.title}\n            </span>\n            <h4 to={`/open/artist/${song.artist._id}`}><span className=\"pq-artist\">\n              {song.artist.name}\n            </span></h4>\n          </div>\n        </div>\n      )\n    })\n  }\n\n  render() {\n    const { playlist, username } = this.props;\n    if (!playlist) return null;\n    const hasSong = playlist.songs.length;\n    return (\n      <div className=\"open-player-body\">\n        <div className=\"ps-container\">\n          <div className=\"ps-left\">\n            <img className=\"ps-image\" src={hasSong ? playlist.songs[0].imageUrl : \"/static/images/playlist.png\"} alt=\"\"/>\n            <h1>{playlist.title}</h1>\n            <h2>{username}</h2>\n            {hasSong ? <button\n              onClick={this.playAll}\n              className=\"album-show-play\">\n                PLAY\n            </button> : <button className=\"playlist-show-play disabled\" id=\"disabled\">PLAY</button> }\n          </div>\n\n          <div className=\"ps-right\">\n              {this.showSongs()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PlaylistShow;\n","import { connect } from \"react-redux\";\nimport PlaylistShow from \"./playlist_show\";\nimport { withRouter } from \"react-router-dom\";\nimport { fetchPlaylist } from '../../actions/playlist_actions';\nimport { playAllTracks, playTrack } from '../../actions/player_queue_actions';\nconst mapStateToProp = (state, ownProps) => {\n  return {\n    currentUserId: state.session.user.id,\n    playlist: state.entities.playlist.current,\n    username: state.session.user.username\n  };\n};\nconst mapDispatchToProp = dispatch => {\n  return {\n    fetchPlaylist: playlistId => dispatch(fetchPlaylist(playlistId)),\n    playAllTracks: tracks => dispatch(playAllTracks(tracks)),\n    playTrack: track => dispatch(playTrack(track))\n  };\n};\nexport default withRouter(connect(mapStateToProp, mapDispatchToProp)(PlaylistShow));","import React from 'react';\nimport LikedSongs from './liked_index';\nimport PlaylistIndex from './playlist_index_container'\nclass Library extends React.Component {\n  render() {\n      return (\n      <div className=\"open-player-body\">\n        <LikedSongs/>\n        <PlaylistIndex/>\n      </div>\n  )};\n};\n\nexport default Library; ","import React from 'react';\nimport SongIndexItem from './song_index_item';\n\nclass LikedSongs extends React.Component {\n  componentDidMount() {\n    this.props.fetchUserLiked(this.props.currentUserId);\n  }\n\n  render() {\n \n    let liSongs;\n    if (!this.props.songs) return null;\n    if (this.props.songs.length === 0) return (\n      <div className=\"album-page\">\n        <img className=\"album-background-photo\" src=\"static/images/gradient.jpg\" alt=\"\"></img>\n        <div className=\"open-player-body\">\n          <div className=\"artist-show-header\">\n            <img className=\"album-show-photo\" src=\"static/images/liked.png\" alt=\"\" />\n            <div className=\"album-header-info\">\n              <h1 className=\"album-show-title\">No Liked Songs, Yet...</h1>\n            </div>\n          </div>\n          <div className=\"album-show-songs\">\n            <p className=\"no-liked-title\">Browse, listen and like! :)</p>\n          </div>\n        </div>\n      </div>\n    );\n    let songs = this.props.songs;\n    liSongs = Object.values(songs).map(song => <SongIndexItem key={song._id} song={song} addTrack={this.props.addTrack} playTrack={this.props.playTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal} />);\n    let count = liSongs.length > 1 ? liSongs.length + \" songs\" : liSongs.length + \" song\"; \n    // const title = liSongs.length > 0 ? <h1 className=\"songs-list-title\">Songs</h1> : <h1></h1>\n    return (\n      <div className=\"album-page\">\n        <img className=\"album-background-photo\" src=\"static/images/gradient.jpg\" alt=\"\"></img>\n        <div className=\"open-player-body\">\n          <div className=\"artist-show-header\">\n            <img className=\"album-show-photo\" src=\"static/images/liked.png\" alt=\"\"/>\n            <div className=\"album-header-info\">\n              <h1 className=\"album-show-title\">Liked Songs</h1>\n              <p className=\"album-show-count\">{count}</p>\n            </div>\n          </div>\n          <div className=\"album-show-songs\">\n            {liSongs}\n          </div>\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default LikedSongs; ","import LikedSongs from \"./liked_songs\";\nimport { connect } from 'react-redux';\nimport { fetchSongs, searchSongs, fetchUserLiked } from '../../actions/song_actions';\nimport { playTrack, addTrack } from '../../actions/player_queue_actions';\nimport { addSongToPlaylist } from '../../actions/playlist_actions';\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\n\nconst msp = (state) => {\n  return { songs: state.entities.songs,\n           currentUserId: state.session.user.id };\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchSongs: () => dispatch(fetchSongs()),\n    searchSongs: (search) => dispatch(searchSongs(search)),\n    playTrack: (track) => dispatch(playTrack(track)),\n    addTrack: (track) => dispatch(addTrack(track)),\n    addSongToPlaylist: (songId, playlistId) => dispatch(addSongToPlaylist(songId, playlistId)),\n    openModal: (modal, songId) => dispatch(openModal(modal, songId)),\n    fetchUserLiked: (userId) => dispatch(fetchUserLiked(userId)),\n    closeModal: () => dispatch(closeModal())\n  }\n};\n\nexport default connect(\n  msp,\n  mdp\n)(LikedSongs);","import React from \"react\";\n\nclass Mainview extends React.Component {\n  render() {\n    return <div className=\"mainview\"></div>;\n  }\n}\n\nexport default Mainview;\n","import React from 'react';\nimport SongIndexItem from '../index/song_index_item';\n\n\nclass GenreShow extends React.Component {\n  componentDidMount() { \n    this.props.fetchSongsByGenre(this.props.match.params.genre);\n  }\n\n  render() {\n\n    let liSongs;\n    if (!this.props.songs || this.props.songs.length === 0) return null;\n    let songs = this.props.songs;\n    liSongs = Object.values(songs).map(song => <SongIndexItem key={song._id} song={song} addTrack={this.props.addTrack} playTrack={this.props.playTrack} addSongToPlaylist={this.props.addSongToPlaylist} openModal={this.props.openModal} closeModal={this.props.closeModal} />);\n    let genre; \n    if (this.props.match.params.genre === \"softrock\") {\n      genre = \"Soft Rock\";\n    } else if (this.props.match.params.genre === \"altrock\") {\n      genre = \"Alternative Rock\";\n    } else if (this.props.match.params.genre === \"classicrock\") {\n      genre = \"Classic Rock\";\n    }\n    return (\n      <div className=\"genre-page\">\n        <img className=\"genre-background-photo\" src=\"static/images/gradient2.jpg\" alt=\"\"></img>\n        <div className=\"open-player-body\">\n          <div className=\"genre-show-header\">\n            <img className=\"genre-show-photo\" src={\"static/images/\" + this.props.match.params.genre + (\".png\")} alt=\"\"/>\n            <div className=\"genre-header-info\">\n              <h1 className=\"genre-show-title\">{genre}</h1>\n            </div>\n          </div>\n          <div className=\"genre-show-songs\">\n            {liSongs}\n          </div>\n        </div>\n      </div>\n    )\n  };\n};\n\nexport default GenreShow; ","import GenreShow from \"./genre_show\";\nimport { connect } from 'react-redux';\nimport { fetchSongsByGenre } from '../../actions/song_actions';\nimport { playTrack, addTrack } from '../../actions/player_queue_actions';\nimport { addSongToPlaylist } from '../../actions/playlist_actions';\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\nconst msp = (state) => {\n  return { songs: state.entities.songs }\n};\n\nconst mdp = () => dispatch => {\n  return {\n    fetchSongsByGenre: (genre) => dispatch(fetchSongsByGenre(genre)),\n    playTrack: (song) => dispatch(playTrack(song)),\n    addTrack: (song) => dispatch(addTrack(song)),\n    addSongToPlaylist: (songId, playlistId) => dispatch(addSongToPlaylist(songId, playlistId)),\n    openModal: (modal,songId) => dispatch(openModal(modal, songId)),\n    closeModal: () => dispatch(closeModal())\n  };\n};\n\nexport default connect(\n  msp,\n  mdp\n)(GenreShow);","import React from \"react\";\nimport Player from \"../player/player_container\";\nimport SideBar from \"../sidebar/sidebar\";\nimport Search from \"../index/search_container\";\nimport ArtistShow from \"../show/artist_show_container\";\nimport PlayerQueueContainer from \"../player/player_queue_container\";\nimport OpenHeader from \"./open_header\";\nimport AlbumShow from \"../show/album_show_container\";\nimport PlaylistShow from \"../show/playlist_show_container\";\nimport Suggested from \"./suggested.js\";\nimport Library from \"../index/library\";\nimport LikedSongs from \"../index/liked_container\";\n\n// import { AuthRoute, ProtectedRoute } from \"../../util/route_util\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Mainview from \"./mainview\";\nimport GenreShow from \"../show/genre_show_container\";\n\nclass Open extends React.Component {\n  componentDidMount = () => {\n    this.props.history.replace(\"/open\");\n  };\n  // onContextMenu={e => e.preventDefault()}\n  render() {\n    return (\n      <div className=\"open-player\" >\n        <Mainview />\n        <OpenHeader />\n        <SideBar />\n        <Player />\n        <Switch>\n          <Route exact path=\"/open\" component={Suggested} />\n          <Route path=\"/open/search\" component={Search} />\n          <Route path=\"/open/genre/:genre\" component={GenreShow} />\n          <Route path=\"/open/queue\" component={PlayerQueueContainer} />\n          <Route path=\"/open/artist/:id\" component={ArtistShow} id={this.props.id} />\n          <Route path=\"/open/album/:id\" component={AlbumShow} id={this.props.id} />\n          <Route path=\"/open/playlist/:id\" component={PlaylistShow} id={this.props.id} />\n          <Route path=\"/open/library\" component={Library} />\n          <Route path=\"/open/likedsongs\" component={LikedSongs} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default Open;\n","import React from \"react\";\n\nclass CreatePlaylist extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.closeModal = this.props.closeModal.bind(this);\n  }\n\n  update(field) {\n    return e =>\n      this.setState({\n        [field]: e.currentTarget.value\n      });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let playlist = {\n      title: this.state.title,\n      user: this.props.currentUserId\n    };\n    this.props.createPlaylist(playlist);\n    this.props.closeModal();\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    this.props.closeModal();\n  }\n\n  render() {\n    return (\n      <div className=\"create-playlist-modal\">\n        <button className=\"btn-transparent\" onClick={this.handleClick}>\n          <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 32 32\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <title>Close</title>\n            <path\n              d=\"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143\"\n              fill=\"#fff\"\n              fill0rule=\"evenodd\"\n            ></path>\n          </svg>\n        </button>\n        <h1 className=\"transparant-header\">Create New Playlist</h1>\n        <div id=\"create-playlist-input-container\">\n          <div id=\"create-playlist-input-box\">\n            <div id=\"playlist-name-spacing\">\n              <input\n                className=\"playlist-name-input-field\"\n                type=\"text\"\n                name=\"playlist-name\"\n                onChange={this.update(\"title\")}\n                placeholder=\"New Playlist\"\n              ></input>\n            </div>\n          </div>\n        </div>\n        <div id=\"form-buttons-container\">\n          <div id=\"cancel-button-container\">\n            <button className=\"cancel-button\" onClick={this.handleClick}>\n              Cancel\n            </button>\n          </div>\n          <div id=\"create-button-container\">\n            <button\n              className=\"create-button\"\n              onClick={e => this.handleSubmit(e)}\n            >\n              create\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreatePlaylist;\n","import { connect } from \"react-redux\";\nimport CreatePlaylistForm from \"./create_playlist\";\nimport { openModal, closeModal } from \"../../../actions/modal_actions\";\nimport { createPlaylist } from \"../../../actions/playlist_actions\";\nconst mapStateToProps = state => ({\n  currentUserId: state.session.user.id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  openModal: modal => dispatch(openModal(modal)),\n  closeModal: () => dispatch(closeModal()),\n  createPlaylist: playlist => dispatch(createPlaylist(playlist))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreatePlaylistForm);\n","import React from \"react\";\n\nclass ChoosePlaylist extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n    this.closeModal = this.props.closeModal.bind(this);\n    this.addSong = this.addSong.bind(this);\n  }\n\n  addSong(e, playlist) {\n    e.preventDefault();\n    this.props.addSongToPlaylist(this.props.songId, playlist);\n    this.props.closeModal();\n    this.props.fetchUserPlaylists(this.props.currentUser.id); \n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    this.props.closeModal();\n  }\n\n  render() { \n    // debugger; \n    let liPlaylists; \n    if (this.props.playlists) {\n      liPlaylists = Object.values(this.props.playlists).map(playlist =>  {\n        let count = playlist.songs.length === 1 ? playlist.songs.length + \" song\" : playlist.songs.length + \" songs\";\n        return (\n        <div className=\"choose-playlist\" onClick={(e) => this.addSong(e, playlist._id)}>\n          <img className=\"album-photo\" src='/static/images/playlist.png' alt=\"#\" />\n          <p className=\"modal-title-choose\">{playlist.title}</p>\n          <p className=\"modal-count\">{count}</p>\n          </div>)\n      })\n    }\n    return (\n      <div className=\"create-playlist-modal\">\n        <button className=\"btn-transparent\" onClick={this.handleClick}>\n          <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 32 32\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <title>Close</title>\n            <path\n              d=\"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143\"\n              fill=\"#fff\"\n              fill0rule=\"evenodd\"\n            ></path>\n          </svg>\n        </button>\n        <h1 className=\"transparant-header\">Add to Playlist</h1>\n        <div id=\"choose-playlist-input-container\">\n          <div className=\"choose-playlist-name\">\n              {liPlaylists}\n            </div>\n          </div>\n        <div id=\"form-buttons-container\">\n          <div id=\"cancel-button-container\">\n            <button className=\"cancel-button\" onClick={this.handleClick}>\n              Cancel\n            </button>\n          </div>\n          <div id=\"create-button-container\">\n           \n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChoosePlaylist;\n","import { connect } from \"react-redux\";\nimport ChoosePlaylist from \"./choose_playlist\";\nimport { openModal, closeModal } from \"../../../actions/modal_actions\";\nimport { addSongToPlaylist } from '../../../actions/playlist_actions'; \nimport { fetchUserPlaylists } from '../../../actions/playlist_actions';\n\nconst mapStateToProps = state => {\n  return {currentUser: state.session.user,\n          playlists: state.entities.playlist}\n};\n\nconst mapDispatchToProps = dispatch => ({\n  openModal: modal => dispatch(openModal(modal)),\n  closeModal: () => dispatch(closeModal()),\n  addSongToPlaylist: (songId, playlistId) => dispatch(addSongToPlaylist(songId, playlistId)),\n  fetchUserPlaylists: (userId) => dispatch(fetchUserPlaylists(userId))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChoosePlaylist);","import React from \"react\";\nimport { closeModal } from \"../../../actions/modal_actions\";\nimport CreatePlaylistContainer from \"./create_playlist_container\";\nimport ChoosePlaylistContainer from \"./choose_playlist_container\";\nimport { connect } from \"react-redux\";\n\nfunction Modal({ modal, closeModal }) {\n  if (!modal) {\n    return null;\n  }\n  let component;\n  switch (modal.modal) {\n    case \"createPlaylist\":\n      component = <CreatePlaylistContainer />;\n      break;\n    case \"choosePlaylist\":\n      component = <ChoosePlaylistContainer songId={modal.songId} />;\n      break;\n    default:\n      return null;\n  }\n  return (\n    <div className=\"modal-background\" onClick={closeModal}>\n      <div className=\"modal-child\" onClick={e => e.stopPropagation()}>\n        {component}\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    modal: state.ui.modal\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    closeModal: () => dispatch(closeModal())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React from \"react\";\nimport Splash from \"./splash/splash\";\nimport { AuthRoute, ProtectedRoute } from \"../util/route_util\";\nimport { Switch } from \"react-router-dom\";\nimport LoginFormContainer from \"./session/login_form_container\";\nimport SignupFormContainer from \"./session/signup_form_container\";\nimport OpenPlayer from \"./open/open_player\";\nimport Modal from \"./sidebar/playlist/modal\";\nconst App = () => (\n  <div>\n    <Modal />\n    <Switch>\n      <AuthRoute exact path=\"/\" component={Splash} />\n      <AuthRoute exact path=\"/login\" component={LoginFormContainer} />\n      <AuthRoute exact path=\"/signup\" component={SignupFormContainer} />\n      <ProtectedRoute path=\"/open\" component={OpenPlayer} />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport App from './app';\n\nconst Root = ({ store }) => (\n    <Provider store={store}>\n        <HashRouter>\n            <App />\n        </HashRouter>\n    </Provider>\n);\n\nexport default Root;\n","import {\n  RECEIVE_CURRENT_USER,\n  RECEIVE_USER_LOGOUT,\n  RECEIVE_USER_SIGN_IN\n} from \"../actions/session_actions\";\n\nconst initialState = {\n  isAuthenticated: false,\n  user: {}\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case RECEIVE_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !!action.currentUser,\n        user: action.currentUser\n      };\n    case RECEIVE_USER_LOGOUT:\n      return {\n        isAuthenticated: false,\n        user: undefined\n      };\n    case RECEIVE_USER_SIGN_IN:\n      return {\n        ...state,\n        isSignedIn: true,\n      };\n    default:\n      return state;\n  }\n}\n\n//to root component src/components/root.js\n//prep","//new session errors replace old errors in state.\n//if we successfully log the user in, we want to clear the session errors.\n\nimport {\n  RECEIVE_SESSION_ERRORS,\n  RECEIVE_CURRENT_USER\n} from \"../actions/session_actions\";\n\nconst _nullErrors = [];\n\nconst SessionErrorsReducer = function(state = _nullErrors, action) {\n  Object.freeze(state);\n  switch (action.type) {\n    case RECEIVE_SESSION_ERRORS:\n      return action.errors;\n    case RECEIVE_CURRENT_USER:\n      return _nullErrors;\n    default:\n      return state;\n  }\n};\n\nexport default SessionErrorsReducer;\n\n//to session_actions.js\n","import { combineReducers } from \"redux\";\n\nimport SessionErrorsReducer from \"./session_errors_reducer\";\n\nexport default combineReducers({\n  session: SessionErrorsReducer\n});\n\n","import { RECEIVE_SONG, RECEIVE_SONGS } from '../actions/song_actions';\n\nconst songsReducer = (oldState = {}, action) => {\n  Object.freeze(oldState);\n  switch (action.type) {\n    case RECEIVE_SONG:\n      return Object.assign({}, oldState, { [action.song._id]: action.song });\n    case RECEIVE_SONGS: \n      return action.songs.data;\n    default:\n      return oldState;\n  }\n};\n\nexport default songsReducer;","import { RECEIVE_ARTIST, RECEIVE_ARTISTS } from '../actions/artist_actions';\n\nconst artistsReducer = (oldState = {}, action) => { \n  Object.freeze(oldState);\n\n  switch (action.type) {\n    case RECEIVE_ARTIST:\n      return action.artist.data;\n    case RECEIVE_ARTISTS:\n      return action.artists.data;\n    default:\n      return oldState;\n  }\n};\n\nexport default artistsReducer;","import { RECEIVE_ALBUM, RECEIVE_ALBUMS } from '../actions/album_actions';\n\nconst albumsReducer = (oldState = {}, action) => {\n  Object.freeze(oldState);\n\n  switch (action.type) {\n    case RECEIVE_ALBUM:\n      return Object.assign({}, oldState, { [action.album.data._id]: action.album.data });\n    case RECEIVE_ALBUMS:\n      return action.albums.data;\n    default:\n      return oldState;\n  }\n};\n\nexport default albumsReducer;","import {\n  RECEIVE_PLAYLIST,\n  RECEIVE_USER_PLAYLISTS,\n  SHOW_PLAYLIST,\n  DELETE_PLAYLIST,\n  RENAME_PLAYLIST\n} from \"../actions/playlist_actions\";\n\nconst playlistReducer = (oldState = {}, action) => {\n  console.log(action.type)\n  Object.freeze(oldState);\n  switch (action.type) {\n    case RECEIVE_PLAYLIST:\n      return Object.assign({}, oldState, {\n        [action.playlist.data.playlist._id]: action.playlist.data.playlist\n      });\n    case RECEIVE_USER_PLAYLISTS:\n      return action.playlists.data;\n    case SHOW_PLAYLIST:\n      return Object.assign({}, oldState, { current: action.playlist.data })\n    case RENAME_PLAYLIST:\n      const nextState = Object.assign({}, oldState)\n      // debugger\n      nextState[action.playlist.data._id] = action.playlist.data\n      return nextState\n    case DELETE_PLAYLIST:\n      const newState = Object.assign({}, oldState)\n      delete newState[action.playlist._id]\n      return newState\n    default:\n      return oldState;\n  }\n};\n\nexport default playlistReducer;\n","import { combineReducers } from \"redux\";\nimport songsReducer from \"./songs_reducer\";\nimport artistsReducer from \"./artists_reducer\";\nimport albumsReducer from \"./albums_reducer\";\nimport usersReducer from \"./users_reducer\";\nimport playlistReducer from \"./playlist_reducer\";\n\nconst entitiesReducer = combineReducers({\n  playlist: playlistReducer,\n  songs: songsReducer,\n  artists: artistsReducer,\n  albums: albumsReducer,\n  users: usersReducer,\n});\n\nexport default entitiesReducer;\n","import { RECEIVE_USER } from \"../actions/user_actions\";\nimport { TOGGLE_ALBUM_LIKE } from \"../actions/album_actions\";\nimport { CHANGE_MULTIPLE_SONG_LIKES, TOGGLE_SONG_LIKE } from \"../actions/song_actions\";\nimport { merge } from 'lodash';\n\nexport default function(state = {}, action) {\n    let newState;\n    let currentUserId;\n    switch (action.type) {\n        case RECEIVE_USER:\n            const user = {};\n            user[action.user.data._id] = action.user.data;\n            delete user[action.user.data._id].password\n            return merge({}, user, state);\n        case TOGGLE_SONG_LIKE: \n            currentUserId = action.likeData.data.userId;\n            newState = merge({}, state);\n            if(newState[currentUserId].likedSongs.includes(action.likeData.data.songId)) {\n                const index = newState[currentUserId].likedSongs.indexOf(action.likeData.data.songId);\n                newState[currentUserId].likedSongs.splice(index,1);\n            } else {\n                newState[currentUserId].likedSongs.push(action.likeData.data.songId);\n            }\n            return newState;\n        case TOGGLE_ALBUM_LIKE:\n            newState = merge({}, state);\n            currentUserId = action.likeData.data.userId;\n            if(newState[currentUserId].likedAlbums.includes(action.likeData.data.albumId)) {\n              const albumIdx = newState[currentUserId].likedAlbums.indexOf(action.likeData.data.albumId);\n              newState[currentUserId].likedAlbums.splice(albumIdx,1);\n            } else {\n              newState[currentUserId].likedAlbums.push(action.likeData.data.albumId);\n            }\n            return newState;\n        case CHANGE_MULTIPLE_SONG_LIKES:\n            newState = merge({}, state);\n              if(action.likeData.data.songs.every((song) => newState.currentUser.likedSongs.includes(song))) {\n                action.likeData.data.songs.forEach(song => {\n                  let songIdx = newState.currentUser.likedSongs.indexOf(song);\n                  newState.currentUser.likedSongs.splice(songIdx, 1);\n                })\n              } else {\n                action.likeData.data.songs.forEach(song => {\n                  if (!newState.currentUser.likedSongs.includes(song)) {\n                    newState.currentUser.likedSongs.push(song)\n                  }\n                }) \n              }\n            return newState;\n        default:\n            return state;\n    }\n}","import { RECEIVE_VOLUME } from '../actions/player_actions';\n\nconst playerReducer = (state = { volume: 0.5 }, action) => {\n    Object.freeze(state);\n    switch (action.type) {\n        case RECEIVE_VOLUME:\n            return Object.assign({}, state, { volume: action.volume })\n        default:\n            return state;\n    }\n}\n\nexport default playerReducer;","import { \n    PLAY_TRACK,\n    PLAY_ALL_TRACKS,\n    ADD_TRACK,\n    REMOVE_TRACK,\n    REMOVE_ALL_TRACKS,\n    NEXT_TRACK,\n    PREV_TRACK,\n    SHUFFLE_TRACKS,\n    MOVE_UP,\n    MOVE_DOWN,\n    REMOVE_EVERYTHING\n} from '../actions/player_queue_actions';\n\nconst playerQueueReducer = (state=[], action) => {\n    Object.freeze(state);\n    let nextState = [...state]\n    switch (action.type) {\n        case PLAY_TRACK:\n            return [action.track];\n        case PLAY_ALL_TRACKS:\n            return action.tracks;\n        case ADD_TRACK: \n            nextState.push(action.track);\n            return nextState;\n        case REMOVE_TRACK:\n            return nextState.filter(track => track._id !== action.trackId);\n        case REMOVE_ALL_TRACKS:\n            return [nextState[0]];\n        case NEXT_TRACK:\n            nextState.push(nextState.shift());\n            return nextState;\n        case PREV_TRACK:\n            nextState.unshift(nextState.pop());\n            return nextState;\n        case SHUFFLE_TRACKS:\n            return shuffleArray(nextState, state[0]);\n        case MOVE_UP: \n            return moveUp(nextState, action.track);\n        case MOVE_DOWN: \n            return moveDown(nextState, action.track);\n        case REMOVE_EVERYTHING:\n            return [];\n        default: \n            return state;\n    }\n}\n\nconst shuffleArray = (arr, first) => {\n    let temp;\n    let newPos;\n    while (arr[0] === first) {\n        for (let i=0; i < arr.length; i++) {\n            newPos = Math.floor(Math.random() * (i+1));\n            temp = arr[i];\n            arr[i] = arr[newPos];\n            arr[newPos] = temp;\n        }\n    }\n    return arr;\n}\n\nconst moveUp = (arr, track) => {\n    let idx = arr.indexOf(track);\n    if (idx !== 0) {\n        arr[idx] = arr[idx-1]\n        arr[idx-1] = track;\n        return arr;\n    } else {\n        return arr;\n    }\n\n}\n\nconst moveDown = (arr, track) => {\n    let idx = arr.indexOf(track);\n    if (idx !== arr.length-1) {\n        arr[idx] = arr[idx+1]\n        arr[idx+1] = track;\n        return arr;\n    } else {\n        return arr;\n    }\n}\n\nexport default playerQueueReducer;\n\n","import { combineReducers } from \"redux\";\nimport modalReducer from \"./modalReducer.js\";\nconst uiReducer = combineReducers({\n  modal: modalReducer\n});\n\nexport default uiReducer;\n","import { OPEN_MODAL, CLOSE_MODAL } from \"../actions/modal_actions\";\n\nexport default function modalReducer(state = null, action) {\n\n  switch (action.type) {\n    case OPEN_MODAL:\n      return action.data;\n    case CLOSE_MODAL:\n      return null;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport session from \"./session_reducer\";\nimport errors from \"./errors_reducer\";\nimport entitiesReducer from \"./entities_reducer\";\nimport player from \"./player_reducer\";\nimport queue from \"./player_queue_reducer\";\nimport uiReducer from \"./ui_reducer\";\n\nconst RootReducer = combineReducers({\n  session,\n  errors,\n  player,\n  entities: entitiesReducer,\n  queue,\n  ui: uiReducer\n});\n\nexport default RootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nimport rootReducer from '../reducers/root_reducer';\n\nconst configureStore = (preloadedState = {}) => (\n    createStore(\n        rootReducer,\n        preloadedState,\n        applyMiddleware(thunk, logger)\n    )\n);\n\nexport default configureStore;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./components/root\"\nimport configureStore from './store/store';\nimport jwt_decode from 'jwt-decode';\n\nimport { setAuthToken } from './util/session_api_util';\nimport { logout } from './actions/session_actions';\n\n// import * as apiUtil from \"./util/session_api_util.js\"\n// used for testing\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const root = document.getElementById(\"root\")\n    let store;\n    if (localStorage.jwtToken) {\n        setAuthToken(localStorage.jwtToken);\n        const decodedUser = jwt_decode(localStorage.jwtToken);\n        const preloadedState = { session: { isAuthenticated: true, user: decodedUser } };\n        \n        store = configureStore(preloadedState);\n    \n        const currentTime = Date.now() / 1000;\n    \n        if (decodedUser.exp < currentTime) {\n          store.dispatch(logout());\n          window.location.href = '/#/login';\n        }\n    } else {\n        store = configureStore()\n    }\n    \n    // TESTING START\n    window.getState = store.getState;\n    // window.dispatch = store.dispatch;\n    // window.logout\n    window.store = store;\n    // TESTING END\n\n    ReactDOM.render(<Root store={store} />, root)\n})"],"sourceRoot":""}